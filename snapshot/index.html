<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head><meta charset="utf-8"><meta name="generator" content="ReSpec 18.3.0"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title, div.ednote-title { color: #2b2; }
div.warning-title { color: #f22; }
div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
}
div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
.issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
}

.warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}
</style><style>/* --- PERMALINKS --- */

.permalink {
  width: 1px;
  height: 1px;
  overflow: visible;
  font-size: 10pt;
  font-style: normal;
  vertical-align: middle;
  margin-left: 4px;
  float: right;
}

.permalink a, .permalink a:link, .permalink a:visited, .permalink a:hover, .permalink a:focus, .permalink a:active {
  background:transparent !important;
  text-decoration:none;
  font-weight: bold;
  color:#666 !important;
}

.permalink abbr {
  border:0;
}
</style>
		
		<title>Locators for Web Publications</title>
		
		
		<link href="common/css/common.css" rel="stylesheet" type="text/css">
		<link href="extras.css" rel="stylesheet" type="text/css">
		
	<style id="respec-mainstyle">/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd > p:first-child {
  margin-top: 0;
}

.section dd > p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary > ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details > * {
  padding-right: 2em;
}

details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: .3em;
  background-color: white;
  padding-bottom: .5em;
}

details.respec-tests-details[open] > summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details > ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details > li {
  padding-left: 1em;
}

@media print {
  .removeOnSave {
    display: none;
  }
}
</style><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED"><link rel="canonical" href="https://www.w3.org/TR/publ-loc/"><script id="initialUserConfig" type="application/json">{
  "wg": "Publishing Working Group",
  "specStatus": "ED",
  "shortName": "publ-loc",
  "noRecTrack": false,
  "editors": [
    {
      "name": "Timothy W. Cole",
      "url": "http://www.library.illinois.edu/people/bios/t-cole3/",
      "company": "University of Illinois at Urbana-Champaign",
      "companyURL": "http://illinois.edu",
      "w3cid": 53965,
      "extras": [
        {
          "name": "<img src='https://orcid.org/sites/default/files/images/orcid_16x16(1).gif' alt='orcid logo'/>",
          "href": "https://orcid.org/0000-0002-5906-4581",
          "class": "orcid"
        }
      ]
    },
    {
      "name": "Ivan Herman",
      "url": "https://www.w3.org/People/Ivan/",
      "company": "W3C",
      "w3cid": 7382,
      "extras": [
        {
          "name": "<img src='https://orcid.org/sites/default/files/images/orcid_16x16(1).gif' alt='orcid logo'/>",
          "href": "http://orcid.org/0000-0003-0782-2704",
          "class": "orcid"
        }
      ],
      "companyURL": "http://www.w3.org"
    }
  ],
  "otherLinks": [
    {
      "key": "Participate",
      "data": [
        {
          "value": "GitHub w3c/publ-loc",
          "href": {}
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/publ-loc/issues/"
        },
        {
          "value": "Commit history",
          "href": "https://github.com/w3c/publ-loc/commits/master"
        }
      ]
    },
    {
      "key": "Editors/Authors of the original version",
      "data": [
        {
          "value": "Ivan Herman, W3C",
          "href": "https://www.w3.org/"
        },
        {
          "value": "Robert Sanderson, J Paul Getty Trust",
          "href": "http://getty.edu/"
        },
        {
          "value": "Paulo Ciccarese, Massachusetts General Hospital",
          "href": "http://www.paolociccarese.info"
        },
        {
          "value": "Benjamin Young, John Wiley & Sons, Inc.",
          "href": "http://www.wiley.com/"
        }
      ]
    }
  ],
  "processVersion": 2017,
  "includePermalinks": true,
  "permalinkEdge": true,
  "permalinkHide": false,
  "diffTool": "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
  "wgURI": "https://www.w3.org/publishing/groups/publ-wg/",
  "wgPublicList": "public-publ-wg",
  "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/100074/status",
  "github": {
    "repoURL": "https://github.com/w3c/publ-loc",
    "branch": "master"
  },
  "localBiblio": {
    "html": {
      "title": "HTML 5.1",
      "authors": [
        "Steve Faulkner",
        "Arron Eicholz",
        "Travis Leithead",
        "Alex Danilo"
      ],
      "date": "2016-11-01",
      "status": "W3C Recommendation",
      "href": "https://www.w3.org/TR/html/",
      "publisher": "W3C"
    },
    "link-relation": {
      "title": "Identifier: A Link Relation to Convey a Preferred URI for Referencing",
      "authors": [
        "H. Van de Sompel",
        "M. Nelson",
        "G. Bilder",
        "J. Kunze",
        "S. Warner"
      ],
      "rawDate": "2017-08",
      "publisher": "IETF",
      "href": "https://tools.ietf.org/html/draft-vandesompel-identifier-00"
    },
    "cfi": {
      "authors": [
        "Peter Sorotokin",
        "Garth Conboy",
        "Brady Duga",
        "John Rivlin",
        "Don Beaver",
        "Kevin Ballard",
        "Alastair Fettes",
        "Daniel Weck"
      ],
      "title": "EPUB Canonical Fragment Identifiers 1.1",
      "href": "http://www.idpf.org/epub/linking/cfi/epub-cfi.html",
      "publisher": "IDPF",
      "rawDate": "2017-01-05",
      "status": "Recommended Specification"
    },
    "pub-loc": {
      "title": "Locators for Web Publications",
      "href": "https://www.w3.org/TR/pub-loc/",
      "authors": [
        "Timothy W. Cole",
        "Ivan Herman"
      ],
      "date": "2018-01-04"
    },
    "pwpub": {
      "title": "Packaged Web Publications",
      "href": "https://www.w3.org/TR/pwpub/",
      "authors": [
        "David Wood"
      ],
      "date": "2018-01-04"
    },
    "wpub": {
      "title": "Web Publications",
      "href": "https://www.w3.org/TR/wpub/",
      "authors": [
        "Matt Garrish",
        "Ivan Herman"
      ],
      "date": "2018-01-04"
    }
  },
  "publishISODate": "2017-12-06T00:00:00.000Z",
  "generatedSubtitle": "Editor's Draft 06 December 2017"
}</script><meta name="description" content="Selecting part of a resource on the Web is an ubiquitous action. Over the years several selection techniques have 
				been developed, usually in conjunction with the media type of the resource. 
				Often these selections are expressed as fragment identifiers&nbsp;[url], 
				but that is not always the case."></head>
	<body aria-busy="false" class="h-entry"><div class="head">
    <p>
      <a class="logo" href="https://www.w3.org/"><img width="72" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C"></a>
    </p>
  <p><!--_hyper: 963659528;--></p>
  <h1 class="title p-name" id="title">Locators for Web Publications</h1>
  <h2 id="w3c-editor-s-draft-06-december-2017"><abbr title="World Wide Web Consortium">W3C</abbr> Editor's Draft <time class="dt-published" datetime="2017-12-06">06 December 2017</time><span class="permalink"><a href="#undefined" aria-label="Permalink for W3C Editor's Draft 06 December 2017" title="Permalink for W3C Editor's Draft 06 December 2017"><span>§</span></a></span></h2>
  <dl>
      <dt>This version:</dt>
      <dd><a class="u-url" href="https://w3c.github.io/publ-loc/">https://w3c.github.io/publ-loc/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="https://www.w3.org/TR/publ-loc/">https://www.w3.org/TR/publ-loc/</a></dd>
      <dt>Latest editor's draft:</dt>
      <dd><a href="https://w3c.github.io/publ-loc/">https://w3c.github.io/publ-loc/</a></dd>
    <dt>Editors:</dt>
    <dd class="p-author h-card vcard" data-editor-id="53965"><a class="u-url url p-name fn" href="http://www.library.illinois.edu/people/bios/t-cole3/">Timothy W. Cole</a>, <a class="p-org org h-org h-card" href="http://illinois.edu">University of Illinois at Urbana-Champaign</a>, <span class="orcid"><a href="https://orcid.org/0000-0002-5906-4581"><img src="https://orcid.org/sites/default/files/images/orcid_16x16(1).gif" alt="orcid logo"></a></span></dd>
<dd class="p-author h-card vcard" data-editor-id="7382"><a class="u-url url p-name fn" href="https://www.w3.org/People/Ivan/">Ivan Herman</a>, <a class="p-org org h-org h-card" href="http://www.w3.org"><abbr title="World Wide Web Consortium">W3C</abbr></a>, <span class="orcid"><a href="http://orcid.org/0000-0003-0782-2704"><img src="https://orcid.org/sites/default/files/images/orcid_16x16(1).gif" alt="orcid logo"></a></span></dd>

          <dt>Participate:</dt>
                  <dd>
                    <a href="https://github.com/w3c/publ-loc">
                      GitHub w3c/publ-loc
                    </a>
                  </dd>
                  <dd>
                    <a href="https://github.com/w3c/publ-loc/issues/">
                      File a bug
                    </a>
                  </dd>
                  <dd>
                    <a href="https://github.com/w3c/publ-loc/commits/master">
                      Commit history
                    </a>
                  </dd>
          <dt>Editors/Authors of the original version:</dt>
                  <dd>
                    <a href="https://www.w3.org/">
                      Ivan Herman, <abbr title="World Wide Web Consortium">W3C</abbr>
                    </a>
                  </dd>
                  <dd>
                    <a href="http://getty.edu/">
                      Robert Sanderson, J Paul Getty Trust
                    </a>
                  </dd>
                  <dd>
                    <a href="http://www.paolociccarese.info">
                      Paulo Ciccarese, Massachusetts General Hospital
                    </a>
                  </dd>
                  <dd>
                    <a href="http://www.wiley.com/">
                      Benjamin Young, John Wiley &amp; Sons, Inc.
                    </a>
                  </dd>
  </dl>
      <p class="copyright">
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2017
        
        <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a>
        rules apply.
      </p>
  <hr title="Separator for header">
</div>
		<section id="abstract" class="introductory"><h2 id="abstract-0">Abstract</h2>
			<p>
				Selecting <em>part of</em> a resource on the Web is an ubiquitous action. Over the years several selection techniques have 
				been developed, usually in conjunction with the media type of the resource. 
				Often these selections are expressed as <em>fragment identifiers</em>&nbsp;[<cite><a class="bibref" href="#bib-url">url</a></cite>], 
				but that is not always the case.
			</p>
			
			<p>
				This document relies primarily on existing selection techniques, providing a <em>common model and syntax</em> to express 
				and as needed combine or refine selections. 
				This common model augments selection techniques with additional techniques to 
				express the information needed to retrieve a desired representation of a resource and/or identify 
				precise locations in the text stream or byte stream of a resource representation. The model
				also includes techniques for expressing the selection of a segment of a collective resource (e.g., a “Web Publication”&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>])
				that itself <em>contains</em> or is <em>composed of</em> other discrete and individually identifiable resources, 
				even when the segment of interest spans parts of more than one included resource. 
				Although defined in conjunction with Web Publications, the techniques described in this document can be used for any type of 
				Web Resource.
			</p>

			<p>
				The formal specification and the semantics used here originate from a separate <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation, 
				namely the Web Annotation Data Model&nbsp;[<cite><a class="bibref" href="#bib-annotation-model">annotation-model</a></cite>], where they are used to select targets or bodies of annotations. 
				This foundational model has been extended by adding selector types applicable to collective resources
				and a new model component for describing positions in text and byte streams (see the <a href="#introduction">Introduction</a> 
				for further details).
			</p>								
			
			<div class="issue" id="issue-27"><div role="heading" class="issue-title marker" id="h-issue" aria-level="3"><a href="https://github.com/w3c/publ-loc/issues/27"><span>Issue 27</span></a><span style="text-transform: none">: Do we need to specify the 'result' of selections?</span></div><p>What the Locator draft defines is a way to <em>express</em> various types of locations. However, do we need to formally define a data structure (using, e.g., IDL) that should be return when acting on those locations?</p></div>

		</section>

        <section id="sotd" class="introductory"><h2 id="status-of-this-document">Status of This Document</h2>
      <p>
        <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em>
      </p>
        
		
        <p>
          This document was published by the <a href="https://www.w3.org/publishing/groups/publ-wg/">Publishing Working Group</a> as an Editor's Draft.
            Comments regarding this document are welcome. Please send them to
            <a href="mailto:public-publ-wg@w3.org">public-publ-wg@w3.org</a>
            (<a href="mailto:public-publ-wg-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="https://lists.w3.org/Archives/Public/public-publ-wg/">archives</a>).
        </p>
          <p>
            Publication as an Editor's Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
            Membership. This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other than work in
            progress.
          </p>
        <p>
            This document was produced by
            a group
             operating under the
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/100074/status" rel="disclosure">public list of any patent
              disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        </p>
          <p>This document is governed by the <a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">1 March 2017 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
          </p>
        

</section><nav id="toc" data-vivaldi-spatnav-clickable="1"><h2 class="introductory" id="table-of-contents">Table of Contents<span class="permalink"><a href="#undefined" aria-label="Permalink for Table of Contents" title="Permalink for Table of Contents"><span>§</span></a></span></h2><ol class="toc"><li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">1. </span>Conformance</a><ol class="toc"><li class="tocline"><a href="#wa_extensions" class="tocxref"><span class="secno">1.1 </span>Handling Undefined JSON Properties</a></li><li class="tocline"><a href="#conformance-requirements-related-to-specific-selectors" class="tocxref"><span class="secno">1.2 </span>Conformance requirements related to specific selectors</a></li></ol></li><li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">2. </span>Introduction</a><ol class="toc"><li class="tocline"><a href="#terminology" class="tocxref"><span class="secno">2.1 </span>Terminology</a></li></ol></li><li class="tocline"><a href="#locators" class="tocxref"><span class="secno">3. </span>Locators</a></li><li class="tocline"><a href="#selectors" class="tocxref"><span class="secno">4. </span>Selectors</a><ol class="toc"><li class="tocline"><a href="#FragmentSelector_def" class="tocxref"><span class="secno">4.1 </span>Fragment Selector</a></li><li class="tocline"><a href="#CssSelector_def" class="tocxref"><span class="secno">4.2 </span>CSS Selector</a></li><li class="tocline"><a href="#XPathSelector_def" class="tocxref"><span class="secno">4.3 </span>XPath Selector</a></li><li class="tocline"><a href="#TextQuoteSelector_def" class="tocxref"><span class="secno">4.4 </span>Text Quote Selector</a></li><li class="tocline"><a href="#TextPositionSelector_def" class="tocxref"><span class="secno">4.5 </span>Text Position Selector</a></li><li class="tocline"><a href="#DataPositionSelector_def" class="tocxref"><span class="secno">4.6 </span>Data Position Selector</a></li><li class="tocline"><a href="#SvgSelector_def" class="tocxref"><span class="secno">4.7 </span>SVG Selector</a></li><li class="tocline"><a href="#RangeSelector_def" class="tocxref"><span class="secno">4.8 </span>Range Selector</a></li><li class="tocline"><a href="#SelectorRefinement_def" class="tocxref"><span class="secno">4.9 </span>Refinement of Selection</a></li><li class="tocline"><a href="#EmbeddedResourceSelector_def" class="tocxref"><span class="secno">4.10 </span>Embedded Resource Selector</a><ol class="toc"><li class="tocline"><a href="#ErsFragmentId_def" class="tocxref"><span class="secno">4.10.1 </span>Embedded Resource Selector serialized as a fragment identifier</a><ol class="toc"><li class="tocline"><a href="#ErsFragIdRefinement" class="tocxref"><span class="secno">4.10.1.1 </span>Refinement of ERS fragment identifiers</a></li></ol></li></ol></li><li class="tocline"><a href="#SpanSelector_def" class="tocxref"><span class="secno">4.11 </span>Span Selector</a></li><li class="tocline"><a href="#MultiResourceSelector_def" class="tocxref"><span class="secno">4.12 </span>Multi Resource Selector</a></li></ol></li><li class="tocline"><a href="#states" class="tocxref"><span class="secno">5. </span>States</a><ol class="toc"><li class="tocline"><a href="#TimeState_def" class="tocxref"><span class="secno">5.1 </span>Time State</a></li><li class="tocline"><a href="#HttpRequestState_def" class="tocxref"><span class="secno">5.2 </span>Request Header State</a></li><li class="tocline"><a href="#StateRefinement_def" class="tocxref"><span class="secno">5.3 </span>Refinement of State</a></li></ol></li><li class="tocline"><a href="#position" class="tocxref"><span class="secno">6. </span>Positions</a><ol class="toc"><li class="tocline"><a href="#TextStreamPosition_def" class="tocxref"><span class="secno">6.1 </span>Text Stream Position</a></li><li class="tocline"><a href="#DataStreamPosition_def" class="tocxref"><span class="secno">6.2 </span>Data Stream Position</a></li><li class="tocline"><a href="#PositionRefinement_def" class="tocxref"><span class="secno">6.3 </span>Using Position to Refine</a></li></ol></li><li class="tocline"><a href="#security" class="tocxref"><span class="secno">7. </span>Security</a></li><li class="tocline"><a href="#privacy" class="tocxref"><span class="secno">8. </span>Privacy</a></li><li class="tocline"><a href="#media_selector" class="tocxref"><span class="secno">A. </span>Correspondence Among Media Types and Selectors</a><ol class="toc"><li class="tocline"><a href="#additional-media-types-selector-combination" class="tocxref"><span class="secno">A.1 </span>Additional Media Types/Selector Combination</a></li></ol></li><li class="tocline"><a href="#changes" class="tocxref"><span class="secno">B. </span>Changes from Previous Versions</a><ol class="toc"><li class="tocline"><a href="#changes_from_wa" class="tocxref"><span class="secno">B.1 </span>Changes from the “Selectors and States” Note</a></li></ol></li><li class="tocline"><a href="#index-of-json-terms" class="tocxref"><span class="secno">C. </span>Index of JSON Terms</a></li><li class="tocline"><a href="#relationships-to-the-web-annotation-model" class="tocxref"><span class="secno">D. </span>Relationships to the Web Annotation Model</a></li><li class="tocline"><a href="#issue-summary" class="tocxref"><span class="secno">E. </span>Issue Summary</a></li><li class="tocline"><a href="#ack" class="tocxref"><span class="secno">F. </span>Acknowledgements</a></li><li class="tocline"><a href="#references" class="tocxref" style=""><span class="secno">G. </span>References</a><ol class="toc"><li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">G.1 </span>Normative references</a></li><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">G.2 </span>Informative references</a></li></ol></li></ol></nav>

		<section id="conformance"><!--OddPage--><h2 id="x1-conformance"><span class="secno">1. </span>Conformance<span class="permalink"><a href="#conformance" aria-label="Permalink for 1. Conformance" title="Permalink for 1. Conformance"><span>§</span></a></span></h2>
<p>
  As well as sections marked as non-normative, all authoring guidelines, diagrams, examples,
  and notes in this specification are non-normative. Everything else in this specification is
  normative.
</p>
<p id="respecRFC2119">The key words  <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">NOT RECOMMENDED</em>, <em class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> are 
  to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>].
</p>


			<section id="wa_extensions">
				<h3 id="x1-1-handling-undefined-json-properties"><span class="secno">1.1 </span>Handling Undefined JSON Properties<span class="permalink"><a href="#wa_extensions" aria-label="Permalink for 1.1 Handling Undefined JSON Properties" title="Permalink for 1.1 Handling Undefined JSON Properties"><span>§</span></a></span></h3>
				<p>
					This specification relies on a subset of JSON terms originally defined as part of the Web Annotation Data Model&nbsp;[<cite><a class="bibref" href="#bib-annotation-model">annotation-model</a></cite>] and Vocabulary&nbsp;[<cite><a class="bibref" href="#bib-annotation-vocab">annotation-vocab</a></cite>]. 
					This specification extends the definitions of some of these terms and 
					defines additional terms in order to satisfy additional use cases, but all uses conforming to original definitions remain valid.
					In order to ensure backward compatibility, implementations of this specification <em class="rfc2119" title="MAY">MAY</em> ignore any JSON terms not defined in this specification 
					(directly or by reference to the Web Annotation Data Model and Vocabulary) and <em class="rfc2119" title="MUST NOT">MUST NOT</em> treat as invalid any JSON term encountered 
					that is not defined in this specification.
				</p>
			</section>
			<section id="conformance-requirements-related-to-specific-selectors">
				<h3 id="x1-2-conformance-requirements-related-to-specific-selectors"><span class="secno">1.2 </span>Conformance requirements related to specific selectors<span class="permalink"><a href="#conformance-requirements-related-to-specific-selectors" aria-label="Permalink for 1.2 Conformance requirements related to specific selectors" title="Permalink for 1.2 Conformance requirements related to specific selectors"><span>§</span></a></span></h3>
				<p>
					Not all Selectors defined in this specification are relevant for all resource media types.
					A conforming implementation <em class="rfc2119" title="MAY">MAY</em> therefore ignore a certain type of Selector when the corresponding media type(s) associated
					with the Selector are not handled by that particular implementation.
				</p>
			</section>

		</section>

        <section id="introduction" class="informative">
            <!--OddPage--><h2 id="x2-introduction"><span class="secno">2. </span>Introduction<span class="permalink"><a href="#introduction" aria-label="Permalink for 2. Introduction" title="Permalink for 2. Introduction"><span>§</span></a></span></h2><p><em>This section is non-normative.</em></p>

            <p>
            	Selecting a <em>part of</em> a resource on the Web is an ubiquitous action. Similarly, 
            	referencing a <em>position in</em> 
            	a resource representation is often necessary to support curation of and  discourse about Web resources. 
				Interactive editing of a resource, highlighting an area on the screen, adding an annotation to a specific point 
				in a resource, or defining a bookmark to a location or a section of a long document are all examples that 
				involve selection or positioning within a resource.</p>
        	<p>
				Over the years several techniques for selection have been developed, usually in conjunction with the media type of the resource.
				These include referring to a unique identifier within a resource, defining a time interval for an audio or video track, 
				identifying an element within the DOM tree for an XML source, or using CSS style elements to locate and select content.
				Often these selections are expressed as <em>fragment identifiers</em>&nbsp;[<cite><a class="bibref" href="#bib-url">url</a></cite>], but that is not always the case.
			</p>

            <p>
            	This specification relies primarily on existing selection techniques, providing a <em>common model and syntax</em> to express
            	selections (i.e., using <em>selector</em> objects).
							Furthermore, the model also includes a way to <em>combine</em> and/or <em>refine</em> selections, 
            	a feature that may greatly improve the efficiency of applications relying on complex selections. This specification
            	also models objects (<em>position</em> and <em>state</em>) supporting two additional curation and use tasks, 
            	thereby extending the selection model with ways to   
            	express the information needed to retrieve a desired representation of a resource and/or to identify 
            	a precise location in the text stream or byte stream of a resource representation.
            	Lastly, the model also provides methods for selecting a segment of a collective resource (e.g., a “Web Publication”&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>])
            	that itself <em>contains</em> or is <em>composed of</em> other discrete and individually identifiable resources, 
            	even when the segment of interest spans parts of more than one included resource. 
				The common model for selection as described in this specification makes it easier to provide generic and interoperable tools and APIs to handle selections in various applications.
			</p>

            <p>
				A selection, position, or state <em>specifier</em>, as described in this document, may have its own unique identity 
				in the form of an URL.
				This URL <em class="rfc2119" title="SHOULD">SHOULD</em> be dereferencable and return the selection/position/state specifier definition itself.
			</p>

            <div class="note"><div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div><p class="">
				Using the URL of the selection definition, instead of the reference to the “complete” resource could be seen 
				as akin to a server side redirection, returning part of a resource.
            </p></div>

            <p>
				The data model is defined in [<cite><a class="bibref" href="#bib-json">json</a></cite>], in the form of JSON objects and keys.
				The formal specification and the semantics of these objects and keys originate from a larger model, namely the 
				Web Annotation Data Model&nbsp;[<cite><a class="bibref" href="#bib-annotation-model">annotation-model</a></cite>], where it is used to select targets and bodies of annotations.
				The current document “extracts” <a data-lt="Selector" href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selectors</a> and <a data-lt="State" href="#dfn-state" class="internalDFN" data-link-type="dfn">States</a> from that data model; 
        by doing so, it makes their usage easier for application developers whose concerns are not related to annotations. 
				Compared to the Web Annotation Data Model, however, this document does <em>add</em> three new selectors, namely:
			</p>

			<ul>
				<li><a href="#EmbeddedResourceSelector_def">Embedded Resource Selectors</a> can be used to select a full resource from a collection or group of resources collectively identified with a URL;</li>
				<li>Embedded Resource Selectors can also be <a href="#ErsFragmentId_def">serialized as Fragment Identifiers</a></li>
				<li><a href="#SpanSelector_def">Span Selectors</a> identify a selection spanning two or more consecutive resources in an ordered group or collection of resources, e.g, a “Web Publication”&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>].</li>
				<li><a href="#MultiResourceSelector_def">Multi Resource Selectors</a> identify a collection of discrete selections, whether within the same resource or spread over several resources.</li>
			</ul>

        	<p>
				These changes aim at addressing the particular requirements of resource collections on the Web, like Web Applications or Web Publications&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>].
			</p>
        	
        	<p>
        		Additionally the current document augments the Web Annotation Data Model of selectors and states with a new class of specifier, <a data-lt="Position" href="#dfn-positions" class="internalDFN" data-link-type="dfn">Positions</a>. Two position specifiers are defined:
        	</p>
        	
     		<ul>
				<li><a href="#TextStreamPosition_def">Text Stream Position</a> can be used to define a position within a text stream representation of a resource.</li>
				<li><a href="#DataStreamPosition_def">Data Stream Position</a> can be used to define a position within a byte stream representation of a resource.</li>
			</ul>
        	<p>Although defined in conjunction with Web Publications, the techniques described in this document can be used for any type of 
        		Web Resource.
        	</p> 
        	
            <section class="normative" id="terminology">
				<h3 id="x2-1-terminology"><span class="secno">2.1 </span>Terminology<span class="permalink"><a href="#terminology" aria-label="Permalink for 2.1 Terminology" title="Permalink for 2.1 Terminology"><span>§</span></a></span></h3>

				<p><em>This section is normative</em></p>
				
				<p>
					Wherever appropriate, this document relies on terminology defined by the note on “Publishing and Linking on the Web”&nbsp;[<cite><a class="bibref" href="#bib-publishing-linking">publishing-linking</a></cite>], including, in particular, <a class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-user">user</a>, <a class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-user-agent">user agent</a>, <a class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-browser">browser</a>, and <a class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-address">address</a>.
					Furthermore, the document also relies on some additional terms defined by the “Web Publication”&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>], including a <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url" class="externalDFN">URL</a>.
				</p>
			
                <dl>
					<dt><dfn data-lt="resource|resources" data-dfn-type="dfn" id="dfn-resource">Resource</dfn></dt>
					<dd>An item of interest that <em class="rfc2119" title="MAY">MAY</em> be identified by a <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a>.</dd>

					<dt><dfn data-lt="web resource|web resources" data-dfn-type="dfn" id="dfn-web-resource">Web Resource</dfn></dt>
					<dd>A <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a> that <em class="rfc2119" title="MUST">MUST</em> be identified by a <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a>, as described in the Web Architecture [<cite><a class="bibref" href="#bib-webarch">webarch</a></cite>]. Web Resources <em class="rfc2119" title="MAY">MAY</em> be dereferencable via their URL.</dd>

					<dt><dfn data-dfn-type="dfn" id="dfn-locator">Locator</dfn></dt>
                	<dd>A <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a> that specifies a position in or a portion of another <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a>. A Locator expresses its relationship to the relevant Web Resource (the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a>) through a <code>source</code> term, and <em class="rfc2119" title="MAY">MAY</em> express a contextual relationship to an additional <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> through a <code>scope</code> term.</dd>

					<dt><dfn data-lt="sources|source" data-dfn-type="dfn" id="dfn-sources">Source</dfn></dt>
                	<dd>The overall <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> whose selection is refined through the usage of <a data-lt="Selector" href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a>, <a data-lt="Position" href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a>, or <a data-lt="State" href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> specifier(s).</dd>

					<dt><dfn data-lt="segment|segment (of interest)" data-dfn-type="dfn" id="dfn-segment">Segment (of Interest)</dfn></dt>
					<dd>The part of the <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> that is specified in a <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a> using a <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> specifier.</dd>

          <dt><dfn data-lt="locus|locus (of interest)" data-dfn-type="dfn" id="dfn-locus">Locus (of Interest)</dfn></dt>
          <dd>The location in the <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> that is specified in a <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a> using a <a href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a> specifier.</dd>
                	
           <dt><dfn data-lt="external web resource|external web resources" data-dfn-type="dfn" id="dfn-external-web-resource">External Web Resource</dfn></dt>                	
					<dd>A <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> which is not part of the representation the selection, such as a web page, image, or video. External Web Resources are dereferencable from their <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a>.</dd>

					<dt><dfn data-lt="property|properties" data-dfn-type="dfn" id="dfn-property">Property</dfn></dt>
					<dd>A feature of a <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a>, that often has a particular data type.  In the model sections, the term “Property” is used to refer to only those features which are <em>not</em> <a href="#dfn-relationship" class="internalDFN" data-link-type="dfn">Relationships</a> and instead have a literal value such as a string, integer, or date.  The valid values for a Property are thus any data type other than object, or an array containing members of that data type if more than one is allowed.</dd>

					<dt><dfn data-lt="relationship|relationships" data-dfn-type="dfn" id="dfn-relationship">Relationship</dfn></dt>
					<dd>In the model sections, the term “Relationship” is used to distinguish those features that refer to other <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resources</a>, either by reference to the <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a>'s <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a> or by including a description of the <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a> in the representation. The valid values for a Relationship are: a quoted string containing a URL, an object that has the “id” property, or an array containing either of these if more than one is allowed.</dd>

					<dt><dfn data-lt="type|types|typing" data-dfn-type="dfn" id="dfn-type">Type</dfn></dt>
                	<dd>A feature of a <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a> whose valid values are predefined strings (defined in this document) denoting the particular type of <a data-lt="Selector" href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a>, <a data-lt="Position" href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a>, or <a data-lt="State" href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> specifier.</dd>
                </dl>

				<div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote" aria-level="4"><span>Editor's note</span></div><p class="">The reference to the TR version of the WPUB document must be used (for the url definition), when available.</p></div>

			</section>
        </section>

        <section id="locators" class="informative">
            <!--OddPage--><h2 id="x3-locators"><span class="secno">3. </span>Locators<span class="permalink"><a href="#locators" aria-label="Permalink for 3. Locators" title="Permalink for 3. Locators"><span>§</span></a></span></h2><p><em>This section is non-normative.</em></p>
            <p>
            	A <a href="#dfn-resource" class="internalDFN" data-link-type="dfn">Resource</a> that specifies a location in or a portion of another <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a>. 
				It does this using <dfn data-lt="specifiers|specifier" data-dfn-type="dfn" id="dfn-specifiers">Specifiers</dfn> that can be any of:
			</p>

            <ul>
              	<li><a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a>: Describes the desired segment of interest in the source</li>
              	<li><a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a>: Describes the desired representation of the source</li>
            	  <li><a href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a>: Describes the desired locus of interest in the source</li>
            </ul>

            <p>
				Specifiers <em class="rfc2119" title="MAY">MAY</em> be External Web Resources with their own URLs, such as in the example for the <a href="#selectors">Selector</a> construction, however it is <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> that they be included in full within the Locator representation to avoid requiring unnecessary network interactions to retrieve all of the information.
			</p>
			
            <h2 id="model">Model<span class="permalink"><a href="#locators" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h2>

            <table class="model">
                <tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
                <tr>
                    <td>id</td>
                    <td>Property</td>
                    <td>The identity of the Locator<br> A Locator <em class="rfc2119" title="SHOULD">SHOULD</em> have exactly 1 URL that identifies it.</td>
                </tr>
                <tr>
                    <td>source</td>
                    <td>Relationship</td>
                    <td>The relationship between a Locator and the resource that it is a more specific representation of, i.e., the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a>.
                    	<br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>source</code> relationship associated with a Locator.  The source resource <em class="rfc2119" title="MAY">MAY</em> be described in detail as discussed in the Web Annotation Data Model&nbsp;[<cite><a class="bibref" href="#bib-annotation-model">annotation-model</a></cite>] or it <em class="rfc2119" title="MAY">MAY</em> simply be identified by the resource’s URL.</td>
				</tr>
                <tr>
                    <td>scope</td>
                    <td>Relationship</td>
                    <td>The relationship between a Locator and an additional resource other than the <code>source</code> that 
                    	provides scope or context for the Locator.<br>
												There <em class="rfc2119" title="MAY">MAY</em> be 0 or more scope relationships for each Locator. When the <code>source</code>
                    	is part of a group or collection of resources that has its own URL, <code>scope</code> <em class="rfc2119" title="MAY">MAY</em> be used to 
                    	record this URL.</td>
				</tr>
			</tbody></table>

        </section>

        <section id="selectors" class="informative">
            <!--OddPage--><h2 id="x4-selectors"><span class="secno">4. </span>Selectors<span class="permalink"><a href="#selectors" aria-label="Permalink for 4. Selectors" title="Permalink for 4. Selectors"><span>§</span></a></span></h2><p><em>This section is non-normative.</em></p>

            <p>Selection of part of a <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> requires two distinct entities:</p>

            <ol>
                <li>
                	the <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a> of the overall resource; we will refer to this as the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> (see <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a>).
				</li>
                <li>
					the identification for the part of that resource; we will refer to this as the <a data-lt="segment" href="#dfn-segment" class="internalDFN" data-link-type="dfn">Segment (of Interest)</a>.
				</li>
            </ol>

            <p>
				A <dfn data-lt="selectors|selector" data-dfn-type="dfn" id="dfn-selectors">Selector</dfn> specifies how to determine the <a href="#dfn-segment" class="internalDFN" data-link-type="dfn">Segment</a> from within the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> resource.
				The nature of the Selector is dependent on the selection technique chosen (which determines the class of the Selector) and the media-type of the Source, as the methods to describe Segments from various media-types differ. 
				The Source and the Selector(s) are encapsulated in a <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a>.
			</p>

            <p>
				<b>Example Use Case:</b> Qitara wants to associate a selection of text in a web page with a slice of a dataset.
				She selects both using her client, and creates Locators with Selectors for both entities before associating them with one another.
			</p>

            <h2 id="model-0">Model<span class="permalink"><a href="#selectors" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h2>

            <table class="model">
                <tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
                <tr>
                    <td>selector</td>
                    <td>Relationship</td>
                    <td>The relationship between a Locator and a Selector.
						<br>There <em class="rfc2119" title="MAY">MAY</em> be 0 or more <code>selector</code> relationships associated with a Locator. 
						Multiple Selectors <em class="rfc2119" title="SHOULD">SHOULD</em> select the same content, however some Selectors will not have the same precision as others.
						User Agents <em class="rfc2119" title="MUST">MUST</em> pick one of the described <a data-lt="segment" href="#dfn-segment" class="internalDFN" data-link-type="dfn">segments</a>, if they are different.
                    </td>
                </tr>
			</tbody></table>
            <h2 id="example">Example<span class="permalink"><a href="#selectors" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h2>

            <div class="example"><div class="example-title marker"><span>Example 1</span><span style="text-transform: none">: Selectors</span></div><pre class="highlight hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/page1"</span>,
  <span class="hljs-attr">"selector"</span>: <span class="hljs-string">"http://example.org/paraselector1"</span>
}</pre></div>

            <section id="FragmentSelector_def">
                <h3 id="x4-1-fragment-selector"><span class="secno">4.1 </span>Fragment Selector<span class="permalink"><a href="#FragmentSelector_def" aria-label="Permalink for 4.1 Fragment Selector" title="Permalink for 4.1 Fragment Selector"><span>§</span></a></span></h3>

                <p>
					As the most well understood mechanism for selecting a <a href="#dfn-segment" class="internalDFN" data-link-type="dfn">Segment</a> is to resolve the fragment identifier part of a URL as defined by the representation’s media type, it is useful to allow fragments as a description mechanism via a Selector.
					This allows existing and future fragment identifier specifications to be used with Locators in a consistent way.
					To be clear about which fragment identifier type is being used, the <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> <em class="rfc2119" title="SHOULD">SHOULD</em> refer to the specification that defines the fragment identifier type.
				</p>

                <p>
					<b>Example Use Case:</b> Ramona wants to associate part of a video as the description of an image.
					She selects the time range within the video and clicks that it is describing the target.
					Her client then creates the Annotation using a Locator with a FragmentSelector.
				</p>

                <h3 id="model-1">Model<span class="permalink"><a href="#FragmentSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

                <table class="model">
                    <tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
                    <tr>
                        <td>type</td>
                        <td>Relationship</td>
						<td>The class of the Selector.<br>
							FragmentSelectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>FragmentSelector</code>.</td>
                    </tr>
                    <tr>
                        <td>value</td>
                        <td>Property</td>
                        <td>The contents of the fragment identifier component of a URL that describes the Segment.<br>
                            The FragmentSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>value</code> property.</td>
                    </tr>
                    <tr>
                        <td>conformsTo</td>
                        <td>Relationship</td>
                        <td>The relationship between the FragmentSelector and the specification that defines the syntax of the URL fragment in the <code>value</code> property.
                        <br>The Fragment Selector <em class="rfc2119" title="SHOULD">SHOULD</em> have exactly 1 <code>conformsTo</code> link to the specification that defines the syntax of the fragment identifier and <em class="rfc2119" title="MUST NOT">MUST NOT</em> have more than 1.</td>
                    </tr>
                </tbody></table>

                <p>
					It is <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> to use <code>FragmentSelector</code> as a consistent method compatible with other means of describing Locators, rather than using the <code>source</code> URL with a fragment identifier directly. 
					User Agents <em class="rfc2119" title="SHOULD">SHOULD</em> be aware of both options.
				</p>

                <p>
					The following URLs are some of the specifications that define the semantics of fragment identifiers, and hence may be used with the <code>conformsTo</code> relationship.  
					Other URLs <em class="rfc2119" title="MAY">MAY</em> also be used.
				</p>

                <table class="model">
                    <tbody><tr><th>Name</th><th>Fragment Identifier Specification</th><th>Description</th></tr>
                    <tr><td>HTML</td><td>http://tools.ietf.org/rfc/rfc3236</td><td>[<cite><a class="bibref" href="#bib-rfc3236">rfc3236</a></cite>] Example: <code>namedSection</code> </td></tr>
                    <tr><td>PDF</td><td>http://tools.ietf.org/rfc/rfc3778</td><td>[<cite><a class="bibref" href="#bib-rfc3778">rfc3778</a></cite>] Example: <code>page=10&amp;viewrect=50,50,640,480</code></td></tr>
                    <tr><td>Plain Text</td><td>http://tools.ietf.org/rfc/rfc5147</td><td>[<cite><a class="bibref" href="#bib-rfc5147">rfc5147</a></cite>] Example: <code>char=0,10</code></td></tr>
                    <tr><td>XML</td><td>http://tools.ietf.org/rfc/rfc3023</td><td>[<cite><a class="bibref" href="#bib-rfc3023">rfc3023</a></cite>] Example: <code>xpointer(/a/b/c)</code></td></tr>
                    <tr><td>CSV</td><td>http://tools.ietf.org/rfc/rfc7111</td><td>[<cite><a class="bibref" href="#bib-rfc7111">rfc7111</a></cite>] Example: <code>row=5-7</code></td></tr>
                    <tr><td>Media</td><td>http://www.w3.org/TR/media-frags/</td><td>[<cite><a class="bibref" href="#bib-media-frags">media-frags</a></cite>] Example: <code>xywh=50,50,640,480</code></td></tr>
                    <tr><td>SVG</td><td>http://www.w3.org/TR/SVG/</td><td>[<cite><a class="bibref" href="#bib-svg11">svg11</a></cite>] Example: <code>svgView(viewBox(50,50,640,480))</code></td></tr>
                </tbody></table>

                <div class="note"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div><div class="">
					The URL that uses the fragment identifier may be reconstructed by concatenating the <code>source</code>, a <code>#</code>, and the <code>value</code>. 
					For example, the URL from the example below would be <code>http://example.org/video1#t=30,60</code>.
                </div></div>

                <h3 id="example-0">Example<span class="permalink"><a href="#FragmentSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

                <div class="example"><div class="example-title marker"><span>Example 2</span><span style="text-transform: none">: Fragment Selector</span></div><pre class="highlight hljs json" id="FragmentSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/video1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"FragmentSelector"</span>,
    <span class="hljs-attr">"conformsTo"</span>: <span class="hljs-string">"http://www.w3.org/TR/media-frags/"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"t=30,60"</span>
  }
}</pre></div>
            </section>

            <section id="CssSelector_def">
                <h3 id="x4-2-css-selector"><span class="secno">4.2 </span>CSS Selector<span class="permalink"><a href="#CssSelector_def" aria-label="Permalink for 4.2 CSS Selector" title="Permalink for 4.2 CSS Selector"><span>§</span></a></span></h3>

                <p>
					One of the most common ways to select elements in the HTML Document Object Model is to use CSS Selectors&nbsp;[<cite><a class="bibref" href="#bib-css3-selectors">css3-selectors</a></cite>]. 
					CSS Selectors allow for a wide variety of well supported ways to describe the path to an element in a web page, and thus cover many of the basic use cases for selection. 
					Results are not defined for when a CSS Selector is applied to a representation that does not conform to the Document Object Model.
				</p>

                <p>
					<b>Example Use Case:</b> Sally selects a paragraph in a one of the chapters of a Web Publication that she wishes bookmark.  
					Her client calculates a CSS path that cleanly identifies that element and stores CSS Selector in its local bookmark store.
					Because the selection is made as part of a Web Publication (e.g., through the WP aware User Agent), a reference to the Web Publication’s address is also added to the bookmark.
				</p>

                <h3 id="model-2">Model<span class="permalink"><a href="#CssSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

                <table class="model">
                    <tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
                    <tr>
                        <td>type</td>
                        <td>Relationship</td>
                        <td>The class of the Selector.<br>CssSelectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>CssSelector</code>.</td>
                    </tr>
                    <tr>
                        <td>value</td>
                        <td>Property</td>
                        <td>The CSS selection path to the Segment.
                        <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>value</code> associated with a CSS Selector.</td>
                    </tr>
                </tbody></table>

                <div class="note"><div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div><div class="">
                	Implementers <em class="rfc2119" title="SHOULD">SHOULD</em> use only commonly supported features of CSS that directly contribute to selection of an element or content, rather than styling or transformation, in order to maximize interoperability between systems.
                </div></div>

                <h3 id="scope_example">Example<span class="permalink"><a href="#CssSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

                <div class="example"><div class="example-title marker"><span>Example 3</span><span style="text-transform: none">: CSS Selector</span></div><pre class="highlight hljs json" id="CssSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"scope"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c001.html"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"#elemid &gt; .elemclass + p"</span>
  }
}</pre></div>
            	
                <div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-0" aria-level="4"><span>Editor's note</span></div><p class="">We should review and may need to update definitions of both CSS Selector and XPath Selector in light of Shadow DOM
                	developments, see <abbr title="World Wide Web Consortium">W3C</abbr> Rec&nbsp;[<cite><a class="bibref" href="#bib-shadow-dom">shadow-dom</a></cite>] and <a href="https://dom.spec.whatwg.org/">WHATWG-DOM</a> as well as 
                	Web Components issue #79, <a href="https://github.com/w3c/webcomponents/issues/79">Selection APIs for Shadow DOM</a>. </p></div>
            	
            </section>

            <section id="XPathSelector_def">
                <h3 id="x4-3-xpath-selector"><span class="secno">4.3 </span>XPath Selector<span class="permalink"><a href="#XPathSelector_def" aria-label="Permalink for 4.3 XPath Selector" title="Permalink for 4.3 XPath Selector"><span>§</span></a></span></h3>

                <p>
					Another common method of selecting elements and content within a resource that supports the Document Object Model (DOM), such as documents in XML or HTML, is to use an XPath selection [<cite><a class="bibref" href="#bib-dom-level-3-xpath">dom-level-3-xpath</a></cite>].
					XPath allows a great deal of flexibility when describing the path through the structure to the selected content.
					Results are not defined for when an XPath Selector is applied to a representation that does not conform to the DOM.
				</p>

                <div class="note"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div><div class="">
					Implementers should note that the <a href="https://www.w3.org/TR/html5/syntax.html#optional-tags">HTML5 specification</a> allows parsers to add elements into the DOM that are considered to be missing.
					XPaths <em class="rfc2119" title="SHOULD">SHOULD</em> be constructed to include these elements, rather than from the element structure in the document.
                </div></div>

                <p>
					<b>Example Use Case:</b> Teynika selects a span within a table in an HTML page and writes a note about the content.
					To refer explicitly to this element, her client carefully constructs an XPath to identify the relevant element.
				</p>

                <h3 id="model-3">Model<span class="permalink"><a href="#XPathSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

                <table class="model">
                    <tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
                    <tr>
                        <td>type</td>
                        <td>Relationship</td>
                        <td>The class of the Selector.<br>XPath Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>XPathSelector</code>.</td>
                    </tr>
                  
                  <tr>
                      <td>value</td>
                      <td>Property</td>
                      <td>The xpath to the selected segment.
                       <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>value</code> associated with an XPath Selector.</td></tr>
                </tbody></table>

                <div class="note"><div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>Note</span></div><div class="">
                	Implementers <em class="rfc2119" title="SHOULD">SHOULD</em> use only commonly supported features of XPath that directly contribute to selection of an element or content in order to maximize interoperability between systems.
                </div></div>

                <h3 id="example-1">Example<span class="permalink"><a href="#XPathSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

                <div class="example"><div class="example-title marker"><span>Example 4</span><span style="text-transform: none">: XPath Selector</span></div><pre class="highlight hljs json" id="XPathSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/page1.html"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"XPathSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"/html/body/p[2]/table/tr[2]/td[3]/span"</span>
  }
}</pre></div>
            </section>

            <section id="TextQuoteSelector_def">
                <h3 id="x4-4-text-quote-selector"><span class="secno">4.4 </span>Text Quote Selector<span class="permalink"><a href="#TextQuoteSelector_def" aria-label="Permalink for 4.4 Text Quote Selector" title="Permalink for 4.4 Text Quote Selector"><span>§</span></a></span></h3>

                <p>
					This <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> describes a range of text by copying it, and including some of the text immediately before (a prefix) and after (a suffix) it to distinguish between multiple copies of the same sequence of characters.
                </p>

                <p>
                	For example, if the document was “abcdefghijklmnopqrstuvwxyz”, one could select “efg” by a prefix of “abcd”, the match of “efg” and a suffix of “hijk”.
                </p>

                <p>
					<b>Example Use Case:</b> Ulrika selects a typo (‘anotation’) in a web page and adds a comment that it should be replaced with the correct spelling (‘annotation’).
				</p>

                <h3 id="model-4">Model<span class="permalink"><a href="#TextQuoteSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

                <table class="model">
                    <tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
                    <tr>
                        <td>type</td>
                        <td>Relationship</td>
                        <td>The class of the Selector.<br>Text Quote Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>TextQuoteSelector</code>.</td>
                    </tr>
                    <tr>
                        <td>exact</td>
                        <td>Property</td>
                        <td>A copy of the text which is being selected, after normalization.
                        <br>Each TextQuoteSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>exact</code> property. </td>
                    </tr>
                    <tr>
                        <td>prefix</td>
                        <td>Property</td>
                        <td>A snippet of text that occurs immediately before the text which is being selected.
                        <br>Each TextQuoteSelector <em class="rfc2119" title="SHOULD">SHOULD</em> have exactly 1 <code>prefix</code> property, and <em class="rfc2119" title="MUST NOT">MUST NOT</em> have more than 1.</td>
                    </tr>
                    <tr>
                        <td>suffix</td>
                        <td>Property</td>
                        <td>The snippet of text that occurs immediately after the text which is being selected.
                        <br>Each TextQuoteSelector <em class="rfc2119" title="SHOULD">SHOULD</em> have exactly 1 <code>suffix</code> property, and <em class="rfc2119" title="MUST NOT">MUST NOT</em> have more than 1.</td>
                    </tr>
                </tbody></table>

                <p>
					The selection of the text <em class="rfc2119" title="MUST">MUST</em> be in terms of unicode code points (the “character number”), not in terms of code units (that number expressed using a selected data type). 
					Selections <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em> start or end in the middle of a grapheme cluster.
					The selection <em class="rfc2119" title="MUST">MUST</em> be based on the <a href="https://www.w3.org/International/questions/qa-visual-vs-logical">logical order</a> of the text, rather than the visual order, especially for bidirectional text.
					For more information about the character model of text used on the web, see&nbsp;[<cite><a class="bibref" href="#bib-charmod">charmod</a></cite>].
					Also, The text <em class="rfc2119" title="MUST">MUST</em> be normalized for the purpose of selection.
					Thus HTML/XML tags <em class="rfc2119" title="SHOULD">SHOULD</em> be removed, and character entities <em class="rfc2119" title="SHOULD">SHOULD</em> be replaced with the character that they encode.
				</p>
				
                <p>
					If, after processing the prefix, exact, and suffix, the user agent discovers multiple matching text sequences, then the selection <em class="rfc2119" title="SHOULD">SHOULD</em> be treated as matching all of the matches.
				</p>

                <div class="note"><div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span></div><div class="">
					If the content is under copyright or has other rights asserted on its use, then this method of selecting text is potentially dangerous. 
					For example, a user might select the entire text of the document to annotate, which would not be desirable to copy into the Annotation and share. 
					For static texts with access and/or distribution restrictions, the use of the Text Position Selector is perhaps more appropriate.
                </div></div>

                <h3 id="example-2">Example<span class="permalink"><a href="#TextQuoteSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

                <div class="example"><div class="example-title marker"><span>Example 5</span><span style="text-transform: none">: Text Quote Selector</span></div><pre class="highlight hljs json" id="TextQuoteSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/page1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextQuoteSelector"</span>,
    <span class="hljs-attr">"exact"</span>: <span class="hljs-string">"anotation"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">"this is an "</span>,
    <span class="hljs-attr">"suffix"</span>: <span class="hljs-string">" that has some"</span>
  }
}</pre></div>
            </section>

            <section id="TextPositionSelector_def">
            	<h3 id="x4-5-text-position-selector"><span class="secno">4.5 </span>Text Position Selector<span class="permalink"><a href="#TextPositionSelector_def" aria-label="Permalink for 4.5 Text Position Selector" title="Permalink for 4.5 Text Position Selector"><span>§</span></a></span></h3>

            	<p>
					This <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> describes a range of text by recording the start and end positions of the selection in the stream. 
					Position 0 would be immediately before the first character, position 1 would be immediately before the second character, and so on. 
					The start character is thus included in the list, but the end character is not.
				</p>

           		<p>
            		For example, if the document was “abcdefghijklmnopqrstuvwxyz”, the start was 4, and the end was 7, then the selection would be “efg”.
            	</p>

            	<p>
					<b>Example Use Case:</b> Valeria writes a review of an ebook that does not allow its content to be extracted and copied.  Her client describes the selection using its start and end position in the content.
				</p>

            	<h3 id="model-5">Model<span class="permalink"><a href="#TextPositionSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Selector.<br>Text Position Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>TextPositionSelector</code>.</td>
					</tr>
					<tr>
						<td>start</td>
						<td>Property</td>
						<td>The starting position of the segment of text. The first character in the full text is character position 0, and the character is included within the segment.
						<br>Each TextPositionSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>start</code> property, and the value <em class="rfc2119" title="MUST">MUST</em> be a non-negative integer.</td>
					</tr>
					<tr>
						<td>end</td>
						<td>Property</td>
						<td>The end position of the segment of text. The character is not included within the segment.
						<br>Each TextPositionSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>end</code> property, and the value <em class="rfc2119" title="MUST">MUST</em> be a non-negative integer.</td>
					</tr>
				</tbody></table>

            	<p>
					The text <em class="rfc2119" title="MUST">MUST</em> be selected and normalized in the same way as for the <a href="#TextQuoteSelector_def">Text Quote Selector</a> before counting the number of characters to determine the start and end positions.
				</p>

            	<div class="note"><div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>Note</span></div><div class="">
					   The use of this <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> does not require text to be copied from the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> when storing, e.g., a bookmarks, unlike the Text Quote Selector, but is very brittle with regards to changes to the resource.
					   Any edits or dynamically transcluded content may change the selection, and thus it is <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> that a <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> be additionally used to help identify the correct representation.
           		</div></div>

            	<h3 id="example-3">Example<span class="permalink"><a href="#TextPositionSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

				<div class="example"><div class="example-title marker"><span>Example 6</span><span style="text-transform: none">: Text Position Selector</span></div><pre class="highlight hljs json" id="TextPositionSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/ebook1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextPositionSelector"</span>,
    <span class="hljs-attr">"start"</span>: <span class="hljs-number">412</span>,
    <span class="hljs-attr">"end"</span>: <span class="hljs-number">795</span>
  }
}</pre></div>
        	</section>

       		<section id="DataPositionSelector_def">
            	<h3 id="x4-6-data-position-selector"><span class="secno">4.6 </span>Data Position Selector<span class="permalink"><a href="#DataPositionSelector_def" aria-label="Permalink for 4.6 Data Position Selector" title="Permalink for 4.6 Data Position Selector"><span>§</span></a></span></h3>

            	<p>Similar to the <a href="#TextPositionSelector_def">Text Position Selector</a>, the Data Position Selector uses the same properties but works at the byte in bitstream level rather than the character in text level.</p>

				<p><b>Example Use Case:</b> Wendy produces visualizations of regions of online disk images for as part of her publication.
					She calculates the start and end positions from the binary stream and stores that as a reference using the DataPositionSelector.
				</p>


            	<h3 id="model-6">Model<span class="permalink"><a href="#DataPositionSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Selector.<br>Data Position Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>DataPositionSelector</code>.</td>
					</tr>
					<tr>
						<td>start</td>
						<td>Property</td>
						<td>The starting position of the segment of data. The first byte is character position 0. <br>Each DataPositionSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>start</code> property.</td>
					</tr>
					<tr>
						<td>end</td>
						<td>Property</td>
						<td>The end position of the segment of data. The last character is not included within the segment.<br>Each DataPositionSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>end</code> property.</td>
					</tr>
				</tbody></table>

				<h3 id="example-4">Example<span class="permalink"><a href="#DataPositionSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

				<div class="example"><div class="example-title marker"><span>Example 7</span><span style="text-transform: none">: Data Position Selector</span></div><pre class="highlight hljs json" id="DataPositionSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/diskimg1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"DataPositionSelector"</span>,
    <span class="hljs-attr">"start"</span>: <span class="hljs-number">4096</span>,
    <span class="hljs-attr">"end"</span>: <span class="hljs-number">4104</span>
  }
}</pre></div>
        	</section>

			<section id="SvgSelector_def">
				<h3 id="x4-7-svg-selector"><span class="secno">4.7 </span>SVG Selector<span class="permalink"><a href="#SvgSelector_def" aria-label="Permalink for 4.7 SVG Selector" title="Permalink for 4.7 SVG Selector"><span>§</span></a></span></h3>

				<p>
					An SvgSelector defines an area through the use of the Scalable Vector Graphics&nbsp;[<cite><a class="bibref" href="#bib-svg11">svg11</a></cite>] standard. 
					This allows the user to select a non-rectangular area of the content, such as a circle or polygon by describing the region using SVG.
					The SVG may be either embedded or referenced as an <a href="#dfn-external-web-resource" class="internalDFN" data-link-type="dfn">External Web Resource</a>.
				</p>

				<p>
					Note that the SvgSelector uses SVG to select an area of a resource.
					Segments of an SVG representation may also be selected using selectors, including the FragmentSelector or even an SvgSelector.
				</p>

				<p>
					<b>Example Use Case:</b> Xena is tagging an old map online with a diagonal region for a historical road.  Her client creates SVG polygon to highlight the region by overlaying a transparent area with a different color.
				</p>

				<h3 id="model-7">Model<span class="permalink"><a href="#SvgSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Selector.<br>SVG Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> include <code>SvgSelector</code>.
					</td></tr>
					<tr>
						<td>value</td>
						<td>Property</td>
						<td>The character sequence of the SVG content.<br> There <em class="rfc2119" title="MAY">MAY</em> be exactly 1 <code>value</code> property associated with the Selector, and if so the value of the property <em class="rfc2119" title="MUST">MUST</em> be well-formed SVG XML.</td>
					</tr>
				</tbody></table>

				<p>
					The dimensions of the SVG shape or canvas <em class="rfc2119" title="MUST">MUST</em> be relative to the dimensions of the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a>, such that scaling the shape’s size to the full size of the image correctly describes the desired area.
				</p>

				<div class="note"><div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>Note</span></div><div class="">
					Implementers <em class="rfc2119" title="SHOULD">SHOULD</em> use only commonly supported features of SVG that directly contribute to describing a region, rather than styling or transformation, in order to maximize interoperability between systems.
					It is <em class="rfc2119" title="NOT RECOMMENDED">NOT RECOMMENDED</em> to include style information within the SVG element, nor Javascript, animation, text or other non-shape oriented information.
					Clients <em class="rfc2119" title="SHOULD">SHOULD</em> ignore such information if present.
				</div></div>

				<h3 id="example-5">Example<span class="permalink"><a href="#SvgSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

				<div class="example"><div class="example-title marker"><span>Example 8</span><span style="text-transform: none">: SVG Selector</span></div><pre class="highlight hljs json" id="SvgSelector_ex_1" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/map1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"SvgSelector"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"http://example.org/svg1"</span>
  }
}</pre></div>

				<div class="example"><div class="example-title marker"><span>Example 9</span><span style="text-transform: none">: SVG Selector, embedded</span></div><pre class="highlight hljs json" id="SvgSelector_ex_2" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/map1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"SvgSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"&lt;svg:svg&gt; ... &lt;/svg:svg&gt;"</span>
  }
}</pre></div>
			</section>

        	<section id="RangeSelector_def">
        		<h3 id="x4-8-range-selector"><span class="secno">4.8 </span>Range Selector<span class="permalink"><a href="#RangeSelector_def" aria-label="Permalink for 4.8 Range Selector" title="Permalink for 4.8 Range Selector"><span>§</span></a></span></h3>
        		
        		<p>
        			Selections made by users may be extensive and/or cross over internal boundaries in the representation, making it difficult to construct a single selector that robustly describes the correct content. 
        			A Range Selector can be used to identify the beginning and the end of the selection by using other Selectors.
        			In this way, two points can be accurately identified using the most appropriate selection mechanisms, and then linked together to form the selection.
        			The selection consists of everything from the beginning of the starting selector through to the beginning of the ending selector, but not including it.
        		</p>
        		
        		<p>
        			<b>Example Use Case:</b> Yadira wants to comment on text in a Web Publication that spreads over several paragraphs.
        			She selects the start and the end of the selection; her User Agent calculates the Range Selector using the first selection as a start and the second selector as the end.
        		</p>
        		
        		<h3 id="model-8">Model<span class="permalink"><a href="#RangeSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
        		
        		<table class="model">
        			<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
        			<tr>
        				<td>type</td>
        				<td>Relationship</td>
        				<td>The class of the Selector.<br>Range Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>RangeSelector</code>.</td>
        			</tr>
        			<tr>
        				<td>startSelector</td>
        				<td>Relationship</td>
        				<td>The Selector which describes the inclusive starting point of the range. <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>startSelector</code> associated with a Range Selector.</td>
        			</tr>
        			<tr>
        				<td>endSelector</td>
        				<td>Relationship</td>
        				<td>The Selector which describes the exclusive ending point of the range. <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>endSelector</code> associated with a Range Selector.  Both <code>startSelector</code> and <code>endSelector</code> <em class="rfc2119" title="SHOULD">SHOULD</em> be of the same class.</td>
        			</tr>
        		</tbody></table>
        		
        		<h3 id="example-6">Example<span class="permalink"><a href="#RangeSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
        		
        		<div class="example"><div class="example-title marker"><span>Example 10</span><span style="text-transform: none">: Range Selector</span></div><pre class="highlight hljs json" id="RangeSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c001.html"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"RangeSelector"</span>,
    <span class="hljs-attr">"startSelector"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextQuoteSelector"</span>,
      <span class="hljs-attr">"exact"</span>: <span class="hljs-string">"Call me Ishmael."</span>,
      <span class="hljs-attr">"suffix"</span>: <span class="hljs-string">"Some years ago"</span>
    },
    <span class="hljs-attr">"endSelector"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextQuoteSelector"</span>,
      <span class="hljs-attr">"exact"</span>: <span class="hljs-string">"He desires to paint you the dreamiest, "</span>,
      <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">"But here is an artist. "</span>,
      <span class="hljs-attr">"suffix"</span>: <span class="hljs-string">"shadiest, quietest"</span>
    }
  }
}</pre></div>
        	</section>
        	
        	<section id="SelectorRefinement_def">
        		<h3 id="x4-9-refinement-of-selection"><span class="secno">4.9 </span>Refinement of Selection<span class="permalink"><a href="#SelectorRefinement_def" aria-label="Permalink for 4.9 Refinement of Selection" title="Permalink for 4.9 Refinement of Selection"><span>§</span></a></span></h3>
        		
        		<p>
        			It may be easier, more reliable, or more accurate to specify the <a data-lt="segment" href="#dfn-segment" class="internalDFN" data-link-type="dfn">segment of interest</a> of a resource as a selection of a selection, rather than as a selection of the complete resource.
        			Particularly for resources that contain other resources, such as various packaging formats, this also allows decomposition of the selection mechanisms when the components do not have unique identifiers. 
        			This is accomplished by having selectors chained together, where each refines the results of the previous one.
        		</p>
        		
        		<p>
        			<b>Example Use Case:</b> Zara selects a paragraph of text and then a short phrase within it.
        			Her client records the phrase as a TextQuoteSelector that further modifies (i.e., refines) a FragmentSelector used to identify the paragraph that the phrase is part of.
        		</p>
        		
        		<h3 id="model-9">Model<span class="permalink"><a href="#SelectorRefinement_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
        		
        		<table class="model">
        			<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
        			<tr>
        				<td>refinedBy</td>
        				<td>Relationship</td>
        				<td>The relationship between a broader selector and the more specific selector that should be applied to the results of the first. <br>A Selector <em class="rfc2119" title="MAY">MAY</em> be <code>refinedBy</code> 1 or more other Selectors.  If more than 1 is given, then they are considered to be alternatives that will result in the same selection.</td>
        			</tr>
        		</tbody></table>
        		
        		<h3 id="example-7">Example<span class="permalink"><a href="#SelectorRefinement_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
        		
        		<div class="example"><div class="example-title marker"><span>Example 11</span><span style="text-transform: none">: Selector Refinement</span></div><pre class="highlight hljs json" id="SelectorRefinement_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/page1"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"FragmentSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"para5"</span>,
    <span class="hljs-attr">"refinedBy"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextQuoteSelector"</span>,
      <span class="hljs-attr">"exact"</span>: <span class="hljs-string">"Selected Text"</span>,
      <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">"text before the "</span>,
      <span class="hljs-attr">"suffix"</span>: <span class="hljs-string">" and text after it"</span>
    }
  }
}</pre></div>
        		
        	</section>

			<section id="EmbeddedResourceSelector_def" class="normative">
				<h3 id="x4-10-embedded-resource-selector"><span class="secno">4.10 </span>Embedded Resource Selector<span class="permalink"><a href="#EmbeddedResourceSelector_def" aria-label="Permalink for 4.10 Embedded Resource Selector" title="Permalink for 4.10 Embedded Resource Selector"><span>§</span></a></span></h3>

				<p><em>This section is normative</em></p>

				<p>
					For some use cases it is required to identify a resource that is part of a collection or group of resources, 
					where that collection has its own identity on the Web (and can be identified via its own URL). 
					An example is selecting a resource that is a chapter of a Web Publication [<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>] or Packaged Web Publication&nbsp;[<cite><a class="bibref" href="#bib-pwpub">pwpub</a></cite>].
					Given the URL of such a collective resource as the value of <code>source</code>, an Embedded Resource 
					Selector can be used to select and identify an item within the collection, e.g., the chapter, through 
					its <code>value</code> relationship.
					This Selector is usually used in conjunction with additional Selectors, e.g., through 
					<a href="#SelectorRefinement_def">refinement</a>.
				</p>
				
				<p>
					<b>Example Use Case:</b> Janine wants to select the cover image of a Web Publication, which is linked to the Web Publication as a whole.
					She uses an Embedded Resource Selector to designate the image, with the Web Publication’s address as the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> for the selector. 
				</p>
	
				<h3 id="model-10">Model<span class="permalink"><a href="#EmbeddedResourceSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Selector.<br>Range Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>EmbeddedResourceSelector</code>.</td>
					</tr>
					<tr>
						<td>value</td>
						<td>Relationship</td>
						<td>The URL&nbsp;[<cite><a class="bibref" href="#bib-url">url</a></cite>] of the resource within the collection or group of resources identified by the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a>.<br>An EmbeddedResourceSelector <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>value</code> property.<br>
						The URL <em class="rfc2119" title="MAY">MAY</em> be a relative URL, with the value of <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> serving as a base URL.</td>
					</tr>
				</tbody></table>

				<h3 id="example-8">Example<span class="permalink"><a href="#EmbeddedResourceSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				<div class="example"><div class="example-title marker"><span>Example 12</span><span style="text-transform: none">: Embedded Resource Selector</span></div><pre class="highlight hljs json" id="EmbeddedResourceSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/images/book-cover.jpg"</span>
  }
}				</pre></div>

				<p>
					A frequent usage of refinement is in combination with an <a href="#EmbeddedResourceSelector_def">Embedded Resource Selector</a> to denote the fact that a particular selection is related to, e.g., a Web Publication.
					For example:
				</p> 

				<div class="example"><div class="example-title marker"><span>Example 13</span><span style="text-transform: none">: Refined Embedded Resource Selector</span></div><pre class="highlight hljs json" id="RefinedEmbeddedResourceSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"MobyDickNav/html/c001.html"</span>,
    <span class="hljs-attr">"refinedBy"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"#elemid &gt; .elemclass + p"</span>
    }		
  }
}	</pre></div>

				<p>
					Note the usage of a relative URL in the example; it is considered to be good practice to use relative URL, when applicable.
				</p>
				<div class="note"><div role="heading" class="note-title marker" id="h-note-7" aria-level="4"><span>Note</span></div><p class="">
					For such a simple case, the usage of <code>scope</code> provides for a more succinct way of expressing the same information, see <a href="#scope_example">the example for a CSS Selector</a>. However, when combined with other selectors like, for example, a <a href="#SpanSelector_def">Span Selector</a>, the usage of this pattern becomes essential.
				</p></div>
				
				<div class="issue" id="issue-12"><div role="heading" class="issue-title marker" id="h-issue-0" aria-level="4"><a href="https://github.com/w3c/publ-loc/issues/12"><span>Issue 12</span></a><span style="text-transform: none">: Use case for a component appearing in multiple locations?</span></div></div>
										
        		<section id="ErsFragmentId_def" class="normative">
        			<h4 id="x4-10-1-embedded-resource-selector-serialized-as-a-fragment-identifier"><span class="secno">4.10.1 </span>Embedded Resource Selector serialized as a fragment identifier<span class="permalink"><a href="#ErsFragmentId_def" aria-label="Permalink for 4.10.1 Embedded Resource Selector serialized as a fragment identifier" title="Permalink for 4.10.1 Embedded Resource Selector serialized as a fragment identifier"><span>§</span></a></span></h4>
        			<p><em>This section is normative</em></p>
        		
					<div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-1" aria-level="5"><span>Editor's note</span></div><p class="">
						This assumes WPs and/or PWPs will have their own media type. 
						If the group decides to define a media type for PWPub (and/or WPub) resources, 
						this section will remain in the document and the examples and illustrations may be updated using file extension associated with new media type(s), i.e., the .wpub file extension below is a placeholder. 							
						<em>However, if no new media type for PWP or WP is defined, this section will be removed.</em> 							
					</p></div>						
					<div class="issue" id="issue-6"><div role="heading" class="issue-title marker" id="h-issue-1" aria-level="5"><a href="https://github.com/w3c/publ-loc/issues/6"><span>Issue 6</span></a><span style="text-transform: none">: Do we need fragment ids?</span></div><p>The document consists of two parts: a description of, essentially, the Selector Model as defined by the Web Annotation Data Model, and a reformulation of that data model in the form of Fragment ID-s.  It is not clear, at this moment, whether the standardization of fragment identifiers is necessary, or whether the JSON based structure fulfills the needs of the requirements. If the latter, we can remove the relevant section, and the only possible normative extension in the document is described in issue <a href="https://github.com/w3c/publ-loc/issues/4" class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="263090346" data-permission-text="Issue title is private" data-url="https://github.com/w3c/publ-loc/issues/4">#4</a>.</p></div>
					
					<p>
						For some simple use cases involving collective resources (of a registered collective resource media type), e.g., Packaged Web Publications, it may be more convenient or more consistent with past practice to express a simple Embedded Resource selection as a fragment identifier&nbsp;[<cite><a class="bibref" href="#bib-url">url</a></cite>] that can be appended to the url of the collective resource, i.e., the <code>source</code> associated with the Embedded Resource selection. 
						(An informative precedent for this approach is the International Digital Publishing Forum  Recommended Specification, <em>EPUB Canonical Fragment Identifiers 1.1</em>&nbsp;[<cite><a class="bibref" href="#bib-cfi">cfi</a></cite>], which defines a fragment identifer serialized model for selecting and positioning	within resources of the	<code>application/epub+zip</code> media type.) 
					</p>
        		
        			<p>
						A mapping for serializing simple Embedded Resource selections as fragment identifiers is defined below.	
						This mapping allows the <a href="#dfn-segment" class="internalDFN" data-link-type="dfn">Segment (of interest)</a> to be expressed in a single URL. 
						Note that this representation is valid only if the URL for the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> (the collective resource) does not itself already include a fragment identifier of its own.
					 </p>
					 
					<p>
						An Embedded Resource Selector is serialized as a fragment identifier using a function-like syntax, i.e.: 
					</p>
        		
					<ul>
						<li>The <code>source</code> for the selection is the base URL to which a <code>#</code> character is appended.</li>
						<li>Next comes the fixed string <code>ERS</code> (in lieu of a function name), followed by a single 'parameter' enclosed in parentheses.</li>
						<li>
							The single 'parameter' of the function-like notation is a URL&nbsp;[<cite><a class="bibref" href="#bib-url">url</a></cite>], i.e., the <code>value</code> from the JSON serialization of the Embedded Resource Selector. 
							The parameter <em class="rfc2119" title="MAY">MAY</em> be and absolute URL or relative to the base URL.
						</li>
					</ul>

        			<p>
						The value of the URL 'parameter' appearing in a ERS fragment identifier <em class="rfc2119" title="SHOULD">SHOULD</em> be percent encoded&nbsp;[<cite><a class="bibref" href="#bib-rfc3986">rfc3986</a></cite>]. 
						The encoding is a <em class="rfc2119" title="MUST">MUST</em> for characters that may make the URL ambiguous, namely:
        			</p>
        		
					<!-- should be <table class="data"> but the stylesheet has issues.... -->
					<table>
						<thead>
							<tr>
								<td><strong>character</strong></td>
								<td><strong>code</strong></td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>space</td>
								<td>%20</td>
							</tr>
							<tr>
								<td><code>=</code></td>
								<td>%3D</td>
							</tr>
							<tr>
								<td><code>,</code></td>
								<td>%2C</td>
							</tr>
							<tr>
								<td><code>#</code></td>
								<td>%23</td>
							</tr>
						</tbody>
					</table>
        		
        			<div class="note"><div role="heading" class="note-title marker" id="h-note-8" aria-level="5"><span>Note</span></div><p class="">
						A fragment identifier is defined for a specific media type. 
						This means that, formally, the fragment identifier syntax and semantics defined in this section must be registered for each relevant media type separately by <a href="http://www.iana.org/assignments/media-types/media-types.xhtml">IANA</a>.
        				Until such a registration is done, these fragment identifiers have the potential to conflict with other fragment identifier schemes specified by media type registrations.
					</p></div>

					<h4 id="example-9">Example<span class="permalink"><a href="#ErsFragmentId_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h4>

					<p>The example below is semantically equivalent to the <a href="#EmbeddedResourceSelector_ex">example</a> on the usage of an Embedded Resource Selector:</p>

					<div class="example"><div class="example-title marker"><span>Example 14</span><span style="text-transform: none">: Embedded Resource used with refinement reformulated as a fragment identifier</span></div><pre class="highlight hljs javascript" id="EmbeddedResourceSelector_fragId_ex" aria-busy="false" aria-live="polite">https:<span class="hljs-comment">//dauwhe.github.io/html-first/MobyDick.wpub#ERS(</span>
  https:<span class="hljs-comment">//dauwhe.github.io/html-first/MobyDickNav/images/cover.jpg)</span></pre></div>		

					<p>
						(A new line character has been introduced into the Example above to facilitate readability; in real usage such new line characters are not allowed in a URL.)
					</p>

					<p>The usage of a fragment identifier may also make the usage of explicit refinement unnecessary. The example below is semantically equivalent to the <a href="#RefinedEmbeddedResourceSelector_ex">example</a> combining an embedded resource selector with refinement:</p>

					<div class="example"><div class="example-title marker"><span>Example 15</span><span style="text-transform: none">: Refinement of an embedded resource expressed with a fragment identifier</span></div><pre class="highlight hljs json" id="#Refinement_with_fragId_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub#ERS(MobyDickNav/html/c001.html)"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"#elemid &gt; .elemclass + p"</span>
  }
}	</pre></div>
					
            		<section id="ErsFragIdRefinement" class="informative">
           				<h5 id="x4-10-1-1-refinement-of-ers-fragment-identifiers"><span class="secno">4.10.1.1 </span>Refinement of ERS fragment identifiers<span class="permalink"><a href="#ErsFragIdRefinement" aria-label="Permalink for 4.10.1.1 Refinement of ERS fragment identifiers" title="Permalink for 4.10.1.1 Refinement of ERS fragment identifiers"><span>§</span></a></span></h5><p><em>This section is non-normative.</em></p>
						<p>
							The fragment identifier serialization mapping of Embedded Resource Selectors generally does not support refinement, except that the URL 'fragment' may include its own fragment identifier, appropriate to the media type of the resource identified by the URL.  
							The following example illustrates such a pattern. (To increase readability, the percent encoding has been omitted from the example and a new line has been added to it.)
						</p>
        		
						<div class="example"><div class="example-title marker"><span>Example 16</span><span style="text-transform: none">: Refined Embedded Resource Selector as Fragment Identifier</span></div><pre class="highlight hljs javascript" id="RefinedEmbeddedResourceSelector_fragId_ex" aria-busy="false" aria-live="polite">https:<span class="hljs-comment">//dauwhe.github.io/html-first/MobyDick.wpub#ERS(</span>
  https:<span class="hljs-comment">//dauwhe.github.io/html-first/MobyDickNav/images/cover.jpg#xywh=50,50,640,480)</span></pre></div>	        		
						<p>
							The URL above is the result of mapping the JSON-serialized Embedded Resource Selector below; note that the link
							to the Media Fragments URI 1.0 Recommendation [<cite><a class="bibref" href="#bib-media-frags">media-frags</a></cite>] cannot be mapped to the fragment identifier serialization, so the mapping is not entirely lossless.
						</p>
        		
	        			<div class="example"><div class="example-title marker"><span>Example 17</span><span style="text-transform: none">: Refined Embedded Resource Selector Fragment Identifier</span></div><pre class="highlight hljs json" id="FragRefinedEmbeddedResourceSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/images/cover.jpg"</span>,
    <span class="hljs-attr">"refinedBy"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"FragmentSelector"</span>,
      <span class="hljs-attr">"conformsTo"</span>: <span class="hljs-string">"http://www.w3.org/TR/media-frags/"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"xywh=50,50,640,480"</span>
    }		
  }
}   </pre></div>
           			</section>
				</section>
			</section>

			<section id="SpanSelector_def" class="normative">
				<h3 id="x4-11-span-selector"><span class="secno">4.11 </span>Span Selector<span class="permalink"><a href="#SpanSelector_def" aria-label="Permalink for 4.11 Span Selector" title="Permalink for 4.11 Span Selector"><span>§</span></a></span></h3>

				<p><em>This section is normative</em></p>
				
				<p>
					Selections from a group of resources, e.g., the group of resources which comprise a Web Publication&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>]), may be extensive 
					and may span member resource boundaries. For resource-spanning selections that are continuous in some ordering of the group of resources, a
					Span Selector can be used to identify the beginning and the end of the selection using <a href="#EmbeddedResourceSelector_def">Embedded Resource
					Selectors</a>, refined as appropriate. Embedded Resource Selectors (without refinement) are also used in enumerating any intervening resources between the beginning and end of the
					selection that are included in the selection. 
					A Span Selection <em class="rfc2119" title="MUST">MUST</em> span at least two resources. (For continuous selections wholly contained within a single
					resource, use a <a href="#RangeSelector_def">Range Selector</a>.) 
					In the absence of refinement, the selection consists of the member resource identified by the <code>startSelector</code> property
					(the first resource in the selection), the member resource identified by the <code>endSelector</code> (the last resource
					in the selection), and the intervening member resource(s) (in some ordering of the group) between the starting and ending member resources
					as enumerated by the <code>selectors</code> property. 
					If the <code>startSelector</code> is refined with another selector, then only the part of the first resource from the 
					start of the refined selection to that resource's end (i.e., including what is identified by refinement)
					is included in the span selection. If the <code>endSelector</code> is refined with another selector, then only the part of the 
					last resource prior to the start of the refined selection (i.e., excluding what is identified by refinement) 
					is included in the selection.
				</p>
				
				<p>
					<b>Example Use Case:</b> Misha wants to comment on text in a Web Publication that spreads over <em>several constituent resources</em>.
					He selects the start and the end of the selection in different of those resources; his User Agent calculates the Span Selector using a 
					series of Embedded Resource Selections from the first selection as a start and the last selector as the end to provide a continuous span.
				</p>

				<h3 id="model-11">Model<span class="permalink"><a href="#SpanSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Selector.<br>Span Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> 
							be <code>SpanSelector</code>.</td>
					</tr>
					<tr>
						<td>startSelector</td>
						<td>Relationship</td>
						<td>The Selector which describes the inclusive starting point of the span. <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>startSelector</code> 
							associated with a Span Selector and it <em class="rfc2119" title="MUST">MUST</em> be an Embedded Resource Selector, which <em class="rfc2119" title="MAY">MAY</em> be refined with other selectors.</td>
					</tr>
					<tr>
						<td>selectors</td>
						<td>Relationship</td>
						<td>Provides an ordered, possibly empty, list of <a href="#EmbeddedResourceSelector_def">Embedded Resource Selectors</a>, 
							which identify intermediate resources subsumed in the full selection. These Embedded Resource Selectors
							<em class="rfc2119" title="MUST NOT">MUST NOT</em> be refined with other selectors.
						<br>There <em class="rfc2119" title="MAY">MAY</em> at most 1 <code>selectors</code> relationship associated with a Span Selector. In the absence of a <code>selectors</code>
						relationship, a user agent <em class="rfc2119" title="SHOULD">SHOULD</em> assume that the start and end resources are contiguous.</td>
					</tr>					
					<tr>
						<td>endSelector</td>
						<td>Relationship</td>
						<td>The Selector which describes the exclusive ending point of the span. <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 
							<code>endSelector</code> associated with a Span Selector and it <em class="rfc2119" title="MUST">MUST</em> be an Embedded Resource Selector, which
							<em class="rfc2119" title="MAY">MAY</em> be refined with other selectors.</td>
					</tr>
				</tbody></table>

				<div class="issue" id="issue-28"><div role="heading" class="issue-title marker" id="h-issue-2" aria-level="4"><a href="https://github.com/w3c/publ-loc/issues/28"><span>Issue 28</span></a><span style="text-transform: none">: Do we need the intermediate selectors for SpanSelector?</span></div><p>The current design requires an explicit list of selectors for the "intermediate" resources. This is to avoid making the selection dependent on an implicit reading order for a Web Publication. Is that the right choice? It would indeed simplify to rely on implicit order, but there are quite some discussions in the WG whether that is a viable assumption...</p></div>
					<div class="issue" id="issue-32"><div role="heading" class="issue-title marker" id="h-issue-3" aria-level="4"><a href="https://github.com/w3c/publ-loc/issues/32"><span>Issue 32</span></a><span style="text-transform: none">: Use Cases for Span Selector - are there any?</span></div><p>Span Selectors can be used to describe selections that span multiple embedded resources - e.g., multiple resources included in a Web Publication. For instance, a Span Selector can be used to select from the last paragraph of Chapter 2, through all of Chapter 3, and into Chapter 4 up until (but not including) the 5th paragraph.</p>
<p>A Multi Selector could be used to specify the same selection, but would do so as an ordered list of paragraphs and chapters, without the benefit of saying the selection was continuous. So, a Multi Selector might do this by listing: the last paragraph of Chapter 2, Chapter 3, paragraph 1 of Chapter 4, paragraph 2 of Chapter 4, paragraph 3 of Chapter 4, and paragraph 4 of Chapter 4.</p>
<p>A Span Selector is therefore more succinct. Are there additional use cases that would benefit from availability of a Span Selector? Is the succinctness worth having an additional type of Selector? See also the earlier discussion of <a href="https://github.com/w3c/publ-loc/issues/25" class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="270585838" data-permission-text="Issue title is private" data-url="https://github.com/w3c/publ-loc/issues/25">#25</a> when we were considering the functionality of Span Selector as an extension of Ranger Selector (rather than a separate, new selector type).</p></div>
						<div class="issue" id="issue-34"><div role="heading" class="issue-title marker" id="h-issue-4" aria-level="4"><a href="https://github.com/w3c/publ-loc/issues/34"><span>Issue 34</span></a><span style="text-transform: none">: Use Cases for Span Selectors and Multi Resource Selectors (Do we need both)</span></div><p>What are the use cases for selections that span multiple resources contained within a single <code>source</code> resource, e.g., selection spans parts of chapter2.html and chapter3.html within the same Web Publication? For these use cases does it matter if the selection is discontinuous or continuous (in some reading order of the Web Publication)?</p></div>
							
				<h3 id="example-10">Example<span class="permalink"><a href="#SpanSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

				<div class="example"><div class="example-title marker"><span>Example 18</span><span style="text-transform: none">: Span Selector Over Several Resources</span></div><pre class="highlight hljs json" id="SpanSelector_ex_1" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"SpanSelector"</span>,
    <span class="hljs-attr">"startSelector"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c001.html"</span>,
      <span class="hljs-attr">"refinedBy"</span> : {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextQuoteSelector"</span>,
        <span class="hljs-attr">"exact"</span>: <span class="hljs-string">"Call me Ishmael."</span>,
        <span class="hljs-attr">"suffix"</span>: <span class="hljs-string">"Some years ago"</span>	
      }
    },
    <span class="hljs-attr">"selectors"</span>: [{
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c002.html"</span>,
    },{
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c003.html"</span>,			
    }],
    <span class="hljs-attr">"endSelector"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c004.html"</span>,
      <span class="hljs-attr">"refinedBy"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextQuoteSelector"</span>,
        <span class="hljs-attr">"exact"</span>: <span class="hljs-string">"He commenced dressing"</span>,
        <span class="hljs-attr">"suffix"</span>: <span class="hljs-string">" at top"</span>	
      }
    }
  }
}</pre></div>
			</section>

			<section id="MultiResourceSelector_def" class="normative">
				<h3 id="x4-12-multi-resource-selector"><span class="secno">4.12 </span>Multi Resource Selector<span class="permalink"><a href="#MultiResourceSelector_def" aria-label="Permalink for 4.12 Multi Resource Selector" title="Permalink for 4.12 Multi Resource Selector"><span>§</span></a></span></h3>

				<p><em>This section is normative</em></p>

				<p>
					For some use cases it is required to identify a <a href="#dfn-segment" class="internalDFN" data-link-type="dfn">segment (of interest)</a> that spans multiple selections, possibly over multiple members of a group of resources (e.g., spanning a subset of the resources which comprise a Web Publication&nbsp;[<cite><a class="bibref" href="#bib-wpub">wpub</a></cite>]). 
					A Multi Resource Selection can be used to identify such a segment of interest by creating an ordered list of selectors.
					A Multi Resource Selection identifies a collection of discrete selections, whether within a single resource or spread over several resources included in a single <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a>.
					If the segment of interest spans more than one resource, these selectors <em class="rfc2119" title="MUST">MUST</em> all be <a href="#EmbeddedResourceSelector_def">Embedded Resource Selectors</a>, each of which <em class="rfc2119" title="MAY">MAY</em> be refined.
				</p>
					
				<p>
					<b>Example Use Case:</b> Example Use Case: Rachel is writing a summative assessment question with hints pointing back to the textbook. The questions pulls on material presented in Chapter 2, a-head 3, Chapter 4, a-head 6, and in Chapter 7, a-head 8. She uses the Multi Resource Selector defining a single link to add to the hints section of her assessment questions that references Sections 2.3, Section 4.6, and Section 7.8, but nothing in between them. 					
				</p>
	
				<h3 id="model-12">Model<span class="permalink"><a href="#MultiResourceSelector_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>

				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Selector.<br>Multi Resource Selectors <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>MultiResourceSelector</code>.</td>
					</tr>
					<tr>
						<td>selectors</td>
						<td>Relationship</td>
						<td>A list of Selectors. <br>There <em class="rfc2119" title="MUST">MUST</em> be exactly 1 <code>selectors</code> list associated with a Multi Resource Selector.
							<br>The list <em class="rfc2119" title="MUST">MUST</em> have at least 2 elements. 
						</td>
					</tr>
				</tbody></table>

				<h3 id="example-11">Example<span class="permalink"><a href="#MultiResourceSelector_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>

				<div class="example"><div class="example-title marker"><span>Example 19</span><span style="text-transform: none">: Multi Resource Selector</span></div><pre class="highlight hljs json" id="MultiResourceSelector_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://textbook.example.org/"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"MultiResourceSelector"</span>,
    <span class="hljs-attr">"selectors"</span>: [{
      <span class="hljs-attr">"type"</span> : <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://textbook.example.org/section2.html"</span>,
      <span class="hljs-attr">"refinedBy"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"body&gt;section:nth-of-type(3)"</span>
      }
    },{
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://textbook.example.org/section4.html"</span>,
      <span class="hljs-attr">"refinedBy"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"body&gt;section:nth-of-type(6)"</span>
      }
    },{
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EmbeddedResourceSelector"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://textbook.example.org/section7.html"</span>,
      <span class="hljs-attr">"refinedBy"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"body&gt;section:nth-of-type(8)"</span>
      }
    }]
  }    
}</pre></div>
			</section>			
		</section> <!-- /Selectors -->

		<section id="states">
			<!--OddPage--><h2 id="x5-states"><span class="secno">5. </span>States<span class="permalink"><a href="#states" aria-label="Permalink for 5. States" title="Permalink for 5. States"><span>§</span></a></span></h2>
			
			<p>
				A State describes the intended state of a resource when selected, and thus provides the information needed to retrieve the correct representation of that resource.
				Web resources change over time, and a State might be used to describe how to recover the intended previous version. 
				Web resources also have multiple formats, and a State might equally be used to describe how to retrieve that particular format.
			</p>
			
			<p>The state aspect of a <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> requires two distinct entities:</p>
			
			<ol>
				<li>
					the <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a> of the overall resource; this is the same <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> as used for Selectors (see <a href="#selectors" class="sec-ref"><span class="secno">4.</span> <span class="sec-title">Selectors</span></a>). 
				</li>
				<li>the identification for the state of the resource.</li>
			</ol>
			
			<p>
				A <dfn data-dfn-type="dfn" id="dfn-state">State</dfn> object is used to describe how to determine the state of interest from within the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> resource. These two entities are encapsulated in a <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a>.</p>
				<p></p>
			
			<p>
				<b>Example Use Case:</b> Alexandra visualizes data on a web page that changes frequently. Her client records information to allow other clients to hopefully reconstruct the original visualization.
			</p>
			
			<h2 id="model-13">Model<span class="permalink"><a href="#states" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h2>
			
			<table class="model">
				<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
				<tr>
					<td>state</td>
					<td>Relationship</td>
					<td>The relationship between the Locator and the <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a>.<br>There <em class="rfc2119" title="MAY">MAY</em> be 0 or more <code>state</code> relationships for each Locator.  Multiple States <em class="rfc2119" title="SHOULD">SHOULD</em> select the same content, however some States will not have the same precision as others. Consuming user agents <em class="rfc2119" title="MUST">MUST</em> pick one of the described <a data-lt="segment" href="#dfn-segment" class="internalDFN" data-link-type="dfn">segments</a>, if they are different.</td>
				</tr>
			</tbody></table>
			
			<p>States <em class="rfc2119" title="MUST">MUST</em> be processed before processing <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> information.</p>
			
			<h2 id="example-12">Example<span class="permalink"><a href="#states" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h2>
			
			<div class="example"><div class="example-title marker"><span>Example 20</span><span style="text-transform: none">: State</span></div><pre class="highlight hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/page1"</span>,
  <span class="hljs-attr">"state"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"http://example.org/state1"</span>
  }
}</pre></div>
			
			<section id="TimeState_def">
				<h3 id="x5-1-time-state"><span class="secno">5.1 </span>Time State<span class="permalink"><a href="#TimeState_def" aria-label="Permalink for 5.1 Time State" title="Permalink for 5.1 Time State"><span>§</span></a></span></h3>
				
				<p>
					A Time State resource records the time at which the resource is when the intended selection occurs, typically the time that the resource was created and/or a link to a persistent copy of the current version. 
					The timestamp for the resource could be resolved via the Memento protocol, described in RFC 7089 [<cite><a class="bibref" href="#bib-rfc7089">rfc7089</a></cite>].
				</p>
				
				<p>
					<b>Example Use Case:</b> Britney makes a note about the current state of the front page of a news website, and flags that the page is likely to change often.  Her client adds in a State with the current time to describe the version of the page.
				</p>
				
				
				<h3 id="model-14">Model<span class="permalink"><a href="#TimeState_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
				
				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the State.<br>Time States <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>TimeState</code>.</td>
					</tr>
					<tr>
						<td>sourceDate</td>
						<td>Property</td>
						<td>The timestamp at which the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> resource should be interpreted. <br>There <em class="rfc2119" title="MAY">MAY</em> be 0 or more <code>sourceDate</code> properties per TimeState. If there is more than 1, each gives an alternative timestamp at which the Source may be interpreted. The timestamp <em class="rfc2119" title="MUST">MUST</em> be expressed in the <code>xsd:dateTime</code> format, and <em class="rfc2119" title="MUST">MUST</em> use the UTC timezone expressed as "Z". If <code>sourceDate</code> is provided, then <code>sourceDateStart</code> and <code>sourceDateEnd</code> <em class="rfc2119" title="MUST NOT">MUST NOT</em> be provided.</td>
					</tr>
					<tr>
						<td>sourceDateStart</td>
						<td>Property</td>
						<td>The timestamp that begins the interval over which the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> resource should be interpreted. <br>There <em class="rfc2119" title="MAY">MAY</em> be exactly 1 <code>sourceDateStart</code> property per TimeState. The timestamp <em class="rfc2119" title="MUST">MUST</em> be expressed in the <code>xsd:dateTime</code> format, and <em class="rfc2119" title="MUST">MUST</em> use the UTC timezone expressed as "Z". If <code>sourceDateStart</code> is provided then <code>sourceDateEnd</code> <em class="rfc2119" title="MUST">MUST</em> also be provided.</td>
					</tr>
					<tr>
						<td>sourceDateEnd</td>
						<td>Property</td>
						<td>The timestamp that ends the interval over which the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> resource should be interpreted. <br>There <em class="rfc2119" title="MAY">MAY</em> be exactly 1 <code>sourceDateEnd</code> property per TimeState. The timestamp <em class="rfc2119" title="MUST">MUST</em> be expressed in the <code>xsd:dateTime</code> format, and <em class="rfc2119" title="MUST">MUST</em> use the UTC timezone expressed as "Z". If <code>sourceDateEnd</code> is provided then <code>sourceDateStart</code> <em class="rfc2119" title="MUST">MUST</em> also be provided.</td>
					</tr>
					<tr>
						<td>cached</td>
						<td>Relationship</td>
						<td>A link to a copy of the <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> resource's representation, appropriate for the application. <br>There <em class="rfc2119" title="MAY">MAY</em> be 0 or more <code>cached</code> relationships per TimeState. If there is more than 1, each gives an alternative copy of the representation.</td>
					</tr>
				</tbody></table>
				
				
				<h3 id="example-13">Example<span class="permalink"><a href="#TimeState_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				
				<div class="example"><div class="example-title marker"><span>Example 21</span><span style="text-transform: none">: Time State</span></div><pre class="highlight hljs json" id="TimeState_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/page1"</span>,
  <span class="hljs-attr">"state"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TimeState"</span>,
    <span class="hljs-attr">"cached"</span>: <span class="hljs-string">"http://archive.example.org/copy1"</span>,
    <span class="hljs-attr">"sourceDate"</span>: <span class="hljs-string">"2015-07-20T13:30:00Z"</span>
  }
}</pre></div>
			</section>
			
			<section id="HttpRequestState_def">
				<h3 id="x5-2-request-header-state"><span class="secno">5.2 </span>Request Header State<span class="permalink"><a href="#HttpRequestState_def" aria-label="Permalink for 5.2 Request Header State" title="Permalink for 5.2 Request Header State"><span>§</span></a></span></h3>
				
				<p>
					As there are potentially many representations that can be delivered from a resource with a single URL, and a selection may only apply to one of them, it is important to be able to record the HTTP Request headers that need to be sent to retrieve the correct representation.  
					The HttpRequestState resource maintains a copy of the headers to be replayed when obtaining the representation.
				</p>
				
				<p>
					<b>Example Use Case:</b> Carla retrieves a PDF representation of a Web resource that can deliver HTML, PDF or plain text and then writes a description about it. 
					She signals that her description is only about the PDF representation.
					Her client then includes a State to describe how to retrieve the target representation.
				</p>
				
				<h3 id="model-15">Model<span class="permalink"><a href="#HttpRequestState_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
				
				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the State.<br>Request Header States <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be <code>HttpRequestState</code>.</td>
					</tr>
					<tr>
						<td>value</td>
						<td>Property</td>
						<td>The HTTP request headers to send as a single, complete string.<br>An HttpRequestState <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>value</code> property.</td>
					</tr>
				</tbody></table>
				
				<div class="note"><div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span></div><div class="">
					The representation retrieved from the server by the original annotator's client might not be completely determined by request headers alone.
					For example, the IP address of the client might also determine the language of the representation, based on the language of the country the user was present in at the time.
					If the server returns a <code>Content-Location</code> header, then the client might instead use it as the <code>target</code> of the Annotation, rather than the URL that was requested.
				</div></div>
				
				<h3 id="example-14">Example<span class="permalink"><a href="#HttpRequestState_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				
				<div class="example"><div class="example-title marker"><span>Example 22</span><span style="text-transform: none">: HTTP Request State</span></div><pre class="highlight hljs json" id="HttpRequestState_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/resource1"</span>,
  <span class="hljs-attr">"state"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"HttpRequestState"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"Accept: application/pdf"</span>
  }
}</pre></div>
			</section>
			
			<section id="StateRefinement_def">
				<h3 id="x5-3-refinement-of-state"><span class="secno">5.3 </span>Refinement of State<span class="permalink"><a href="#StateRefinement_def" aria-label="Permalink for 5.3 Refinement of State" title="Permalink for 5.3 Refinement of State"><span>§</span></a></span></h3>
				
				<p>
					Similar to the <a href="#SelectorRefinement_def">refinement of selection</a>, it may be easier, more reliable or more accurate to specify the appropriate state of the resource as a hierarchy of atomic <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> resources.
					This is particularly appropriate for representing the combination of a <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> that reflects an internal transformation along with the results of a State that describes an external request.
					This decomposition is accomplished by having the states chained together in the same way as Selectors.
				</p>
				
				<p>
					Further, given that the State(s) will likely result in a specific representation, there may be specific <a data-lt="Selector" href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selectors</a> that are appropriate for describing the <a href="#dfn-segment" class="internalDFN" data-link-type="dfn">segment</a> of the representation.
					In order to accommodate this, States may also be refined by <a data-lt="Selector" href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selectors</a>.
				</p>
				
				<p>
					<b>Example Use Case:</b> Devina writes a comment about a travel e-book which has many versions available over time, and is available in different formats.
					She is particularly commenting on a specific version and format, so her client adds both a TimeState to capture the time and an HttpRequestState to capture the format.
				</p>
				
				<h3 id="model-16">Model<span class="permalink"><a href="#StateRefinement_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
				
				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>refinedBy</td>
						<td>Relationship</td>
						<td>The relationship between a broader <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> and either a more specific <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> or a <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> that <em class="rfc2119" title="SHOULD">SHOULD</em> be applied to the results of the first.
							<br>Each State <em class="rfc2119" title="MAY">MAY</em> be <code>refinedBy</code> 1 or more other States or Selectors.  If more than 1 is given, then they are considered to be alternatives that will result in the same result.
						</td>
					</tr>
				</tbody></table>
				
				<div class="note"><div role="heading" class="note-title marker" id="h-note-10" aria-level="4"><span>Note</span></div><p class="">
					Any <a href="#EmbeddedResourceSelector_def">Embedded Resource Selectors</a> appearing as a value of 
					a <a href="#SpanSelector_def">Span Selector</a> <code>startSelector</code>, <code>endSelector</code>,
					or <code>selectors</code> relationship <em class="rfc2119" title="MAY">MAY</em> be refined using State Refinement(s).  
				</p></div>
				
				<h3 id="example-15">Example<span class="permalink"><a href="#StateRefinement_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				
				<div class="example"><div class="example-title marker"><span>Example 23</span><span style="text-transform: none">: Refinement of States</span></div><pre class="highlight hljs json" id="StateRefinement_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"http://example.org/ebook1"</span>,
  <span class="hljs-attr">"state"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TimeState"</span>,
    <span class="hljs-attr">"sourceDate"</span>: <span class="hljs-string">"2016-02-01T12:05:23Z"</span>,
    <span class="hljs-attr">"refinedBy"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"HttpRequestState"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-string">"Accept: application/epub+zip"</span>
    }
  }
}</pre></div>
			</section>
		</section> <!-- /States -->

		<section id="position">
			<!--OddPage--><h2 id="x6-positions"><span class="secno">6. </span>Positions<span class="permalink"><a href="#position" aria-label="Permalink for 6. Positions" title="Permalink for 6. Positions"><span>§</span></a></span></h2>
			
			<p>
				A <dfn data-lt="positions|position" data-dfn-type="dfn" id="dfn-positions">Position</dfn> object describes a <a href="#dfn-locus" class="internalDFN" data-link-type="dfn">Locus (of Interest)</a> within a stream 
				representation of a <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a>. 				
				</p>
			
			<p>A Position specifier requires knowledge of two distinct entities:</p>			
			<ol>
				<li>
					the <a href="https://www.w3.org/TR/wpub/Overview.html#dfn-url">URL</a> of the overall resource; this is the same <a href="#dfn-sources" class="internalDFN" data-link-type="dfn">Source</a> as used for Selectors (see <a href="#selectors" class="sec-ref"><span class="secno">4.</span> <span class="sec-title">Selectors</span></a>). 
				</li>
				<li>an integer representing the count of bytes or characters in the stream preceding the locus of interest.</li>
			</ol>
			
			<p>
				<b>Example Use Case:</b> Allen, while reading chapter 1 of a digital edition of <em>Moby Dick</em>,
				generates (as a separate resource with its own URL) a Position specifier to note the position in the digital 
				text stream representation where the first page break in chapter 1 of a <em>Moby Dick</em> print edition occurred. 
			</p>
			
			<h2 id="model-17">Model<span class="permalink"><a href="#position" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h2>
			
			<table class="model">
				<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
				<tr>
					<td>position</td>
					<td>Relationship</td>
					<td>The relationship between the Locator and a <a href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a> specifier.<br>
						A Locator <em class="rfc2119" title="MAY">MAY</em> have 0 or 1 <code>position</code> relationships. </td>
				</tr>
			</tbody></table>
			
			<p>
				When processing a <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a> that includes <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> and/or <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> specifier(s) the Position specifier (if present) <em class="rfc2119" title="MUST">MUST</em> be processed last.
			</p>
			
			<h2 id="example-16">Example<span class="permalink"><a href="#position" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h2>
			
			<div class="example"><div class="example-title marker"><span>Example 24</span><span style="text-transform: none">: Position</span></div><pre class="highlight hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"scope"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c001.html"</span>,
  <span class="hljs-attr">"position"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"http://example.org/printPageBreak-c1.1"</span>
  }
}</pre></div>

			<section id="TextStreamPosition_def">
				<h3 id="x6-1-text-stream-position"><span class="secno">6.1 </span>Text Stream Position<span class="permalink"><a href="#TextStreamPosition_def" aria-label="Permalink for 6.1 Text Stream Position" title="Permalink for 6.1 Text Stream Position"><span>§</span></a></span></h3>
				
				<p>
					The <dfn data-dfn-type="dfn" id="dfn-textstreamposition">TextStreamPosition</dfn> specifier describes an inter-character position in a text stream by recording the 
					number of characters that precede the position. 
					The property <code>value</code> is used to record this character count. 
				  	A <code>value</code> of 0 would describe the position immediately before the first character, a <code>value</code> of 1 would describe the position immediately after the first character and before the second character (i.e., the position between the first two characters of the stream), and so on. 
					For example, if the text stream was “abcdefghijklmnopqrstuvwxyz” and the <code>value</code> was 7, then the position referenced would be the position between "g" and "h". If n is the length of the text stream, then a <code>value</code> equal to n denotes the position immediately	following the last character in the text stream. 
				</p>
				
				<p>
					In some situations, it is important to preserve which side of a position a location reference points to. 
					For example, when resolving a text stream position in a dynamically paginated environment, it could make a difference if a position is attached to the content before or after the location being referenced (e.g., to determine whether to display the verso or recto side at a page break). 
					In a <code>TextStreamPosition</code> object, the <code>bias</code> property <em class="rfc2119" title="MAY">MAY</em> be used to attach a position reference to the character preceding the position identified by the <code>value</code> property (<code>"bias": "before"</code>) or to the character following the position (<code>"bias": "after"</code>). 
					For example, if the text stream was “abcdefghijklmnopqrstuvwxyz”, the <code>value</code> was 7, and the <code>bias</code> was <code>before</code>, then the position referenced would be the position between "g" and "h" and would be attached to "g".	
				</p>
				
				<div class="note"><div role="heading" class="note-title marker" id="h-note-11" aria-level="4"><span>Note</span></div><p class="">
					The property <code>bias</code> is only meaningful when some type of break (e.g., a page break or line break) falls or might fall at the position specified by the TextStreamPosition specifier.
				</p></div>				
				
				<p>
					<b>Example Use Case:</b> George notices that a letter is missing between characters 322 and 323 in the text of an HTML file he is reading and decides he wants to mark the position of the missing letter by generating a TextStreamPosition specifier so that the letter can be inserted later during editing. 
					He also wants to ensure that if a hyphen and line break should be dynamically inserted in this position the missing character would follow the break, and so he uses the bias property to associate the position reference with the character that follows the position being referenced (i.e., character 323).
				</p>
								
				<div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-2" aria-level="4"><span>Editor's note</span></div><p class="">
					Is this a valid example as regards bias? 
					Or is this kind of situation better handled by an application rather than conflating a side-bias property with the position reference.
					If not compelling enough, we need a better more concrete, real-world use case for side-bias!
					Otherwise we should drop side-bias.
				</p></div>
			
				<div class="issue" id="issue-9"><div role="heading" class="issue-title marker" id="h-issue-5" aria-level="4"><a href="https://github.com/w3c/publ-loc/issues/9"><span>Issue 9</span></a><span style="text-transform: none">: Use cases for Position (not satisfied by Selector) - are there any?</span></div><p>From Section 3.1.4 (Character Offset) of EPub 3.1 CFI:<br>
"For XML character data, the offset is zero-based and always refers to a position between characters, so 0 means before the first character and a number equal to the total UTF-16 length means after the last character. A character offset value greater than the UTF-16 length of the available text must not be specified."<br>
And from Section 3.1.9 (Side-Bias) of EPub 3.1 CFI:<br>
"In some situations, it is important to preserve which side of a location a reference points to. For example, when resolving a location in a dynamically paginated environment, it would make a difference if a location is attached to the content before or after it (e.g., to determine whether to display the verso or recto side at a page break)."</p>
<p>Assuming these are real feature requirements, I don't think we have anything precisely equivalent in Web Anno data model. Putting aside for a moment whether something called a fragment identifier can be used to specify a location, how might we be able to address a need for these functionalities?</p>
<p>Regarding the first bit, I do note that in Web Anno we do not specify a meaning for a TextPositionSelector or DataPositionSelector having the same value for both start and end. We do talk about "Position 0 would be immediately before the first character[/byte]". So in this doc could we specify an interpretation that if the document was "abcdefghijklmnopqrstuvwxyz", the start was 4, and the end was 4, we are specifying the location immediately before the character 'e'?  For completeness should we specify what to do if end (or start) is greater than the length of the normalized text?</p>
<p>Regarding the second bit, side-bias, I have no idea other than to suggest that this is not something a locator or fragment identifier should have to worry about - it's something the consumer of the locator should be responsible for.</p></div>
					<div class="issue" id="issue-29"><div role="heading" class="issue-title marker" id="h-issue-6" aria-level="4"><a href="https://github.com/w3c/publ-loc/issues/29"><span>Issue 29</span></a><span style="text-transform: none">: Use cases for side bias - are there any?</span></div><p>From Section 3.1.9 (Side-Bias) of EPub 3.1 CFI:<br>
"In some situations, it is important to preserve which side of a location a reference points to. For example, when resolving a location in a dynamically paginated environment, it would make a difference if a location is attached to the content before or after it (e.g., to determine whether to display the verso or recto side at a page break)."</p>
<p>No one has come forward with a use case justifying this feature. If no use case is available in a timely fashion (before the end of November 2017), the feature will be removed from FPWD. Can always be added back if a use case subsequently emerges.</p>
<p>This issue was split off from issue <a href="https://github.com/w3c/publ-loc/issues/9" class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="263999569" data-permission-text="Issue title is private" data-url="https://github.com/w3c/publ-loc/issues/9">#9</a>.</p></div>
						
				<h3 id="model-18">Model<span class="permalink"><a href="#TextStreamPosition_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
					<table class="model">
						<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
						<tr>
							<td>type</td>
							<td>Relationship</td>
							<td>The class of the Position specifier.<br>
								A Text Stream Position specifier <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be 
								<code>TextStreamPosition</code>.</td>
						</tr>
						<tr>
							<td>value</td>
							<td>Property</td>
							<td>The count of characters in the text stream preceding the <a href="#dfn-locus" class="internalDFN" data-link-type="dfn">Locus (of interest)</a>.
								<br>Each TextStreamPosition <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>value</code> property, and it <em class="rfc2119" title="MUST">MUST</em> be a non-negative integer
								less than or equal to the number of characters in the text stream.</td>
						</tr>
						<tr>
							<td>bias</td>
							<td>Property</td>
							<td>This property is used to associate a position reference with either the character that 
								preceeds it or follows it. <br>
								Each TextPositionSelector <em class="rfc2119" title="MAY">MAY</em> include 0 or 1 <code>bias</code> properties, and the value 		
								of <code>bias</code> <em class="rfc2119" title="MUST">MUST</em> be either <code>before</code> or <code>after</code>.	</td>
						</tr>
					</tbody></table>
					
					<p>
						The text <em class="rfc2119" title="MUST">MUST</em> be selected and normalized in the same way as for the <a href="#TextQuoteSelector_def">Text Quote Selector</a> before counting the number of characters to determine the <code>value</code> to be used.
					</p>
				
				<h3 id="example-17">Example<span class="permalink"><a href="#TextStreamPosition_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				
				<div class="example"><div class="example-title marker"><span>Example 25</span><span style="text-transform: none">: TextStreamPosition</span></div><pre class="highlight hljs json" id="TextStreamPosition_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"scope"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c001.html"</span>,
  <span class="hljs-attr">"position"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextStreamPosition"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">322</span>,
    <span class="hljs-attr">"bias"</span>: <span class="hljs-string">"after"</span>
  }
}</pre></div>
			</section>
			
			<section id="DataStreamPosition_def">
				<h3 id="x6-2-data-stream-position"><span class="secno">6.2 </span>Data Stream Position<span class="permalink"><a href="#DataStreamPosition_def" aria-label="Permalink for 6.2 Data Stream Position" title="Permalink for 6.2 Data Stream Position"><span>§</span></a></span></h3>
				
				<p>
					Similar to the <a href="#dfn-textstreamposition" class="internalDFN" data-link-type="dfn">TextStreamPosition</a> specifier, the <dfn data-dfn-type="dfn" id="dfn-datastreamposition">DataStreamPosition</dfn> specifier describes a position between two bytes in a byte stream representation of a resource by recording the number of bytes that precede the position. 
					The property <code>value</code> is used to record this byte count. 
					A <code>value</code> of 0 would describe the position immediately before the first byte, a <code>value</code> 1 would describe the position immediately after the first byte and before the second byte (i.e., the position between the first two bytes of the stream), and so on. 
					If n is the length of the byte stream, then a <code>value</code> equal to n denotes the position immediately following the last byte in the stream. 
				</p>
								
				<p>
					<b>Example Use Case:</b> Paul's data processing application fails after processing the first 401 bytes of a resource's byte stream representation. 
					Before exiting, the application generates a <code>DataStreamPosition</code> object to record the position where processing was interrupted. 
					This will facilitate resumption of processing after the processing bug is resolved.
				</p>				
				
				<h3 id="model-19">Model<span class="permalink"><a href="#DataStreamPosition_def" aria-label="Permalink for Model" title="Permalink for Model"><span>§</span></a></span></h3>
				
				<table class="model">
					<tbody><tr><th>Term</th><th>Type</th><th>Description</th></tr>
					<tr>
						<td>type</td>
						<td>Relationship</td>
						<td>The class of the Position specifier.<br>
							A Data Stream Position specifier <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>type</code> and the value <em class="rfc2119" title="MUST">MUST</em> be 
							<code>DataStreamPosition</code>.</td>
					</tr>
					<tr>
						<td>value</td>
						<td>Property</td>
						<td>The count of bytes in the byte stream preceding the <a href="#dfn-locus" class="internalDFN" data-link-type="dfn">Locus (of interest)</a>. 							
							<br>Each DataStreamPosition <em class="rfc2119" title="MUST">MUST</em> have exactly 1 <code>value</code> property, and it <em class="rfc2119" title="MUST">MUST</em> be a non-negative integer
							less than or equal to the number of bytes in the stream.</td>
					</tr>
				</tbody></table>
				
				<h3 id="example-18">Example<span class="permalink"><a href="#DataStreamPosition_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				
				<div class="example"><div class="example-title marker"><span>Example 26</span><span style="text-transform: none">: DataStreamPosition</span></div><pre class="highlight hljs json" id="DataStreamPosition_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://example.org/MyData.json"</span>,
  <span class="hljs-attr">"position"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"DataStreamPosition"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">401</span>
  }
}</pre></div>
			</section>

			<section id="PositionRefinement_def">
				<h3 id="x6-3-using-position-to-refine"><span class="secno">6.3 </span>Using Position to Refine<span class="permalink"><a href="#PositionRefinement_def" aria-label="Permalink for 6.3 Using Position to Refine" title="Permalink for 6.3 Using Position to Refine"><span>§</span></a></span></h3>
				
				<p>
					Unlike <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> and <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a> specifiers, a <a href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a> specifier can not be refined (since it identifies a point in a stream rather than a part of a resource or a representation of a resource). 
					However, it may be easier, more reliable, more accurate, or less brittle to resolve a Position specifier in the context of a part of a resource defined by a <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> and/or a representation of a resource described by a <a href="#dfn-state" class="internalDFN" data-link-type="dfn">State</a>. 
					Thus a Position specifier may be used to refine a Selector or State (including refined Selectors or States), as long as the Position specifier is the final refinement step processed.
				</p>
				<p>
					<b>Example Use Case:</b> Deren is one of several people who are collaboratively editing an HTML file. 
					He needs to generate a TextStreamPosition specifier identifying a position where the word "Mister" needs to be inserted in one of the paragraphs he alone has been assigned to edit. 
					He doesn't want to specify a text character count within the text stream representation of the entire HTML file, since he knows other edits are in progress that could affect that character count. 
					So instead he uses a <a href="#CssSelector_def">CssSelector</a> to select the paragraph of interest and then refines this selection with a <a href="#dfn-textstreamposition" class="internalDFN" data-link-type="dfn">TextStreamPosition</a> specifier to reference the position within the paragraph where the insertion is needed.
				</p>
				
				<h3 id="example-19">Example<span class="permalink"><a href="#PositionRefinement_def" aria-label="Permalink for Example" title="Permalink for Example"><span>§</span></a></span></h3>
				
				<div class="example"><div class="example-title marker"><span>Example 27</span><span style="text-transform: none">: Refinement by Position Specifier</span></div><pre class="highlight hljs json" id="PositionRefinement_ex" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"scope"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDick.wpub"</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"https://dauwhe.github.io/html-first/MobyDickNav/html/c001.html"</span>,
  <span class="hljs-attr">"selector"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"CssSelector"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"p:nth-child(2)"</span>,
    <span class="hljs-attr">"refinedBy"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TextStreamPosition"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">8</span>
    }		
  }
}</pre></div>
			</section>
		</section> <!-- /Position -->

		<section id="security">
			<!--OddPage--><h2 id="x7-security"><span class="secno">7. </span>Security<span class="permalink"><a href="#security" aria-label="Permalink for 7. Security" title="Permalink for 7. Security"><span>§</span></a></span></h2>

			<div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-3" aria-level="3"><span>Editor's note</span></div><div class="">Placeholder for security issues.</div></div>
		</section>
		<section id="privacy">
			<!--OddPage--><h2 id="x8-privacy"><span class="secno">8. </span>Privacy<span class="permalink"><a href="#privacy" aria-label="Permalink for 8. Privacy" title="Permalink for 8. Privacy"><span>§</span></a></span></h2>

			<div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-4" aria-level="3"><span>Editor's note</span></div><div class="">Placeholder for privacy issues.</div></div>
		</section>

		<section id="media_selector" class="appendix">
			<!--OddPage--><h2 id="a-correspondence-among-media-types-and-selectors"><span class="secno">A. </span>Correspondence Among Media Types and Selectors<span class="permalink"><a href="#media_selector" aria-label="Permalink for A. Correspondence Among Media Types and Selectors" title="Permalink for A. Correspondence Among Media Types and Selectors"><span>§</span></a></span></h2>
	
			<p>
				Not all <a href="#selectors">Selectors</a> are relevant for all media types; some combinations are meaningless or not formally defined. 
				An implementation may therefore ignore certain types of Selectors in case the corresponding media types are not handled by that particular implementation.
			</p>
	
			<p>
				The table below shows the correspondence among the main media types addressed in this specification and <a href="#dfn-selectors" class="internalDFN" data-link-type="dfn">Selector</a> types.
				The meaning of the table elements, and their effect on implementation conformance, is as follows.
			</p>

			<ul>
				<li>
					A “✔︎” sign in the table means that the Selector type is relevant for that particular media types. 
					A conforming implementation <em class="rfc2119" title="MUST">MUST</em> implement that particular combination <em>if</em> it handles the corresponding media type.
				</li>

				<li>
					A “✘” sign in the table means that the Selector type is not relevant for that particular media types.
					Conforming implementations <em class="rfc2119" title="SHOULD">SHOULD</em> ignore that particular combination.
				</li>

				<li>
					A “?” means that it is not possible to specify, in general, whether that particular combination is meaningful (e.g., fragment identifiers are defined for specific media types, i.e., specific text media types other than plain text may have fragments defined but they are not listed in the table).
					In other cases the usefulness of such combination is not clear (e.g., Data Position selectors for binary images).
					Conforming implementations <em class="rfc2119" title="MAY">MAY</em> implement that particular combination.
				</li>
			</ul>
		
			<table id="media_table" class="model">
				<thead>
					<tr>
						<td> </td>
						<th>Fragment</th>
						<th>CSS</th>
						<th>XPath</th>
						<th>Text Quote</th>
						<th>Text Position</th>
						<th>Data Position</th>
						<th>Svg</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<th>HTML (text/html)</th>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
					</tr>
					<tr>
						<th>CSV (text/csv)</th>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
					</tr>
					<tr>
						<th>Plain Text (text/plain)</th>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
					</tr>
					<tr>
						<th>Other text files (text/*) </th>
						<td>?</td>
						<td>✘</td>
						<td>✘</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
					</tr>
					<tr>
						<th>PDF (application/pdf) </th>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
					</tr>
					<tr>
						<th>XML (application/xml, application/*+xml) </th>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
					</tr>
					<tr>
						<th>SVG (image/svg+xml)</th>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✔︎</td>
						<td>✘</td>
						<td>✔︎</td>
					</tr>
					<tr>
						<th>Image, other than SVG (image/gif, image/jpeg, image/png,
						image/tiff)</th>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
						<td>✘</td>
						<td>✘</td>
						<td>?</td>
						<td>✔︎</td>
					</tr>
					<tr>
						<th>Video (video/*)</th>
						<td>✔︎</td>
						<td>✘</td>
						<td>✘</td>
						<td>✘</td>
						<td>✘</td>
						<td>?</td>
						<td>✔︎</td>
					</tr>
					<tr>
						<th>Binary Data Files</th>
						<td>?</td>
						<td>✘</td>
						<td>✘</td>
						<td>✘</td>
						<td>✘</td>
						<td>✔︎</td>
						<td>✘</td>
					</tr>
				</tbody>
			</table>

			<section class="informative" id="additional-media-types-selector-combination">
				<h3 id="a-1-additional-media-types-selector-combination"><span class="secno">A.1 </span>Additional Media Types/Selector Combination<span class="permalink"><a href="#additional-media-types-selector-combination" aria-label="Permalink for A.1 Additional Media Types/Selector Combination" title="Permalink for A.1 Additional Media Types/Selector Combination"><span>§</span></a></span></h3><p><em>This section is non-normative.</em></p>
		
				<p>
					The table below contains some other, possible combinations of media types and selector types, which <em class="rfc2119" title="MAY">MAY</em> be implemented but are not mandated by this specification. 
					Some of these combinations may also form the basis for defining new, implementation-specific selector extensions.
				</p>
		
				<table class="model">
					<caption>Additional relationships among other media types and selector types</caption>
					<thead>
						<tr>
							<td> </td>
							<th>Fragment</th>
							<th>CSS</th>
							<th>XPath</th>
							<th>Text Quote</th>
							<th>Text Position</th>
							<th>Data Position</th>
							<th>Svg</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th>CSS (text/css)</th>
							<td>✘</td>
							<td>✘</td>
							<td>✘</td>
							<td>✔︎</td>
							<td>✔︎</td>
							<td>✘</td>
							<td>✘</td>
						</tr>
						<tr>
							<th>TSV (text/tab-separated-values)</th>
							<td>✔︎<sup>✝</sup></td>
							<td>✘</td>
							<td>✘</td>
							<td>✔︎</td>
							<td>✔︎</td>
							<td>✘</td>
							<td>✘</td>
						</tr>
						<tr>
							<th>JSON (application/json, application/*+json)</th>
							<td>✘</td>
							<td>✘</td>
							<td>✘</td>
							<td>✔︎</td>
							<td>?</td>
							<td>✘</td>
							<td>✘</td>
						</tr>
						<tr>
							<th>Programming languages (application/javascript, python files, etc.)</th>
							<td>✘</td>
							<td>✘</td>
							<td>✘</td>
							<td>✔︎</td>
							<td>?</td>
							<td>✘</td>
							<td>✘</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="8" style="font-size:70%">
								<sup>✝</sup>Fragments are not formally defined through IETF, though there are well-known connections to existing fragments or practices.
							</td>
						</tr>
					</tfoot>
				</table>
			</section>
		</section>

		<section class="appendix" id="changes">
			<!--OddPage--><h2 id="b-changes-from-previous-versions"><span class="secno">B. </span>Changes from Previous Versions<span class="permalink"><a href="#changes" aria-label="Permalink for B. Changes from Previous Versions" title="Permalink for B. Changes from Previous Versions"><span>§</span></a></span></h2>

			<section id="changes_from_wa">
				<h3 id="b-1-changes-from-the-selectors-and-states-note"><span class="secno">B.1 </span>Changes from the “Selectors and States” Note<span class="permalink"><a href="#changes_from_wa" aria-label="Permalink for B.1 Changes from the “Selectors and States” Note" title="Permalink for B.1 Changes from the “Selectors and States” Note"><span>§</span></a></span></h3>

				<p>
					This document has been derived from the “Selectors and States”&nbsp;[<cite><a class="bibref" href="#bib-selectors-states">selectors-states</a></cite>] Working Group Note, published by the Web Annotation Working Group. 
					That Note is based on the formal specification and the semantics of a separate <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation, namely the Web Annotation Data Model&nbsp;[<cite><a class="bibref" href="#bib-annotation-model">annotation-model</a></cite>], where it is used to select targets of annotations. 
					This documents introduces some changes as follows. 
				</p>

				<p><strong>Editorial Changes</strong></p>
				<ul>
					<li>
						All references to RDF and JSON-LD have been removed.
					</li>
					<li>
						The reference to EPUBCFI in the definition for <a href="#FragmentSelector_def">Fragment Selectors</a> have been removed (but new informative reference has been added to section describing how to <a href="#ErsFragmentId_def">serialize Embedded Resource Selectors as fragment identifiers</a>).
					</li>
					<li>
						References to <a href="https://www.w3.org/TR/selectors-states/#dfn-class" class="externalDFN">Classes</a> (which, semantically, refer to RDF Classes) have been removed.
					</li>
					<li>
						The term <a href="https://www.w3.org/TR/selectors-states/#specific-resources" class="externalDFN">“Specific Resource”</a> has been changed to <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a>. (This is just an alias to “Specific Resource”, hence does not change the original semantics.)
					</li>
					<li>
						Some of the examples have been changed.
					</li>
				</ul>

				<p><strong>Non-editorial Changes</strong></p>
				<ul>
					<li>
						The <a href="#locators"><code>scope</code> relationship</a> has been re-introduced. (This relationship is part of the “Web Annotation Data Model”&nbsp;[<cite><a class="bibref" href="#bib-annotation-model">annotation-model</a></cite>] but was not retained in the “Selectors and States”&nbsp;[<cite><a class="bibref" href="#bib-selectors-states">selectors-states</a></cite>] Note.)
					</li>

					<li>
						Three new Selectors have been added, namely
						<ul>
							<li><a href="#EmbeddedResourceSelector_def">Embedded Resource Selectors</a> can be used to select a full resource, with its a, from a collection of resources, also identified with a URL;</li>
							<li><a href="#SpanSelector_def">Span Selectors</a> identify a continuous selection that spans multiple embedded resources in some ordered reading of a collection or group of resources identified with a URL.</li>
							<li><a href="#MultipleResourceSelector_def">Multiple Resource Selectors</a> identify a ordered list of discrete selections, whether within a single resource or spread over multiple embedded resources included in a collection or group of resources identified with a URL
					</li>

					<li>A new kind of specifier, the <a href="#dfn-positions" class="internalDFN" data-link-type="dfn">Position</a> specifier, has been added. Two Position specifier types have been added: 
						<ul>
							<li><a href="#TextStreamPosition_def">Text Stream Position</a> can be used to define a position within a text stream representation of a resource.</li>
							<li><a href="#DataStreamPosition_def">Data Stream Position</a> can be used to define a position within a byte stream representation of a resource.</li>
						</ul>					
					</li>
							
					<li>
						The section on expressing any <a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a> as fragment identifier has been deleted in favor of a short section entitled, <a href="#ErsFragmentId_def" class="sec-ref"><span class="secno">4.10.1</span> <span class="sec-title">Embedded Resource Selector serialized as a fragment identifier</span></a>.					  
					</li>
				</ul>
			</li></ul></section>
		</section>
		
		<section class="appendix" id="index-of-json-terms">
			<!--OddPage--><h2 id="c-index-of-json-terms"><span class="secno">C. </span>Index of JSON Terms<span class="permalink"><a href="#index-of-json-terms" aria-label="Permalink for C. Index of JSON Terms" title="Permalink for C. Index of JSON Terms"><span>§</span></a></span></h2>
	
			<table class="model">
				<tbody><tr><th>Term</th><th>Usage</th></tr>
				<tr><td>bias</td><td><a href="#TextStreamPosition_def">Text Stream Position</a></td></tr>
				<tr><td>cached</td><td><a href="#TimeState_def">Time State</a></td></tr>
				<tr><td>conformsTo</td><td><a href="#FragmentSelector_def">Fragment Selector</a></td></tr>
				<tr><td>end</td><td><a href="#TextPositionSelector_def">Text Position Selector</a>, <a href="#DataPositionSelector_def">Data Position Selector</a></td></tr>
				<tr><td>endSelector</td><td><a href="#SpanSelector_def">Span Selector</a>, <a href="#RangeSelector_def">Range Selector</a></td></tr>
				<tr><td>exact</td><td><a href="#TextQuoteSelector_def">Text Quote Selector</a></td></tr>
				<tr><td>position</td><td><a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a></td></tr>
				<tr><td>prefix</td><td><a href="#TextQuoteSelector_def">Text Quote Selector</a></td></tr>
				<tr><td>refinedBy</td><td><a href="#PositionRefinement_def">Position</a>, <a href="#SelectorRefinement_def">Selector</a>, <a href="#StateRefinement_def">State</a></td></tr>
				<tr><td>selector</td><td><a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a></td></tr>
				<tr><td>selectors</td><td><a href="#MultiResourceSelector_def">Multi Resource Selector</a>, <a href="#SpanSelector_def">Span Selector</a></td></tr>	
				<tr><td>scope</td><td><a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a></td></tr>
				<tr><td>source</td><td><a href="#dfn-locator" class="internalDFN" data-link-type="dfn">Locator</a></td></tr>				
				<tr><td>sourceDate</td><td><a href="#TimeState_def">Time State</a></td></tr>
				<tr><td>sourceDateEnd</td><td><a href="#TimeState_def">Time State</a></td></tr>
				<tr><td>sourceDateStart</td><td><a href="#TimeState_def">Time State</a></td></tr>
				<tr><td>start</td><td><a href="#TextPositionSelector_def">Text Position Selector</a>, <a href="#DataPositionSelector_def">Data Position Selector</a></td></tr>
				<tr><td>startSelector</td><td><a href="#SpanSelector_def">Span Selector</a>, <a href="#RangeSelector_def">Range Selector</a></td></tr>
				<tr><td>state</td><td><a href="#states">Locator</a></td></tr>
				<tr><td>suffix</td><td><a href="#TextQuoteSelector_def">Text Quote Selector</a></td></tr>
				<tr><td class="top_cell">type</td><td><a href="#FragmentSelector_def">Fragment Selector</a>, <a href="#CssSelector_def">CSS Selector</a>, <a href="#XPathSelector_def">XPath Selector</a>, <a href="#TextQuoteSelector_def">Text Quote Selector</a>, <a href="#TextPositionSelector_def">Text Position Selector</a>, <a href="#DataPositionSelector_def">Data Position Selector</a>, <a href="#RangeSelector_def">Range Selector</a>, <a href="#SvgSelector_def">SVG Selector</a>, <a href="#EmbeddedResourceSelector_def">Embedded Resource Selector</a>, <a href="#MultiResourceSelector_def">Multi Resource Selector</a>, <a href="#TimeState_def">Time State</a>, <a href="#HttpRequestState_def">Request Header State</a>, <a href="#SpanSelector_def">Span Selector</a>, <a href="#TextStreamPosition_def">Text Stream Position</a>, <a href="#DataStreamPosition_def">Data Stream Position</a></td></tr>
				<tr><td>value</td><td><a href="#FragmentSelector_def">Fragment Selector</a>, <a href="#CssSelector_def">CSS Selector</a>, <a href="#SvgSelector_def">SVG Selector</a>, <a href="#XPathSelector_def">XPath Selector</a>, <a href="#EmbeddedResourceSelector_def">Embedded Resource Selector</a>, <a href="#HttpRequestState_def">Request Header State</a>, <a href="#TextStreamPosition_def">Text Stream Position</a>, <a href="#DataStreamPosition_def">Data Stream Position</a> </td></tr>
			</tbody></table>
		</section>

		<section id="relationships-to-the-web-annotation-model">
			<!--OddPage--><h2 id="d-relationships-to-the-web-annotation-model"><span class="secno">D. </span>Relationships to the Web Annotation Model<span class="permalink"><a href="#relationships-to-the-web-annotation-model" aria-label="Permalink for D. Relationships to the Web Annotation Model" title="Permalink for D. Relationships to the Web Annotation Model"><span>§</span></a></span></h2>

			<div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-5" aria-level="3"><span>Editor's note</span></div><p class="">This is just a placeholder for now; once the specification is, overall, complete, a section should come to summarize the exact relationships to the Web Annotation Model, the relationships in the conformance of the two standards, etc.</p></div>
		</section>

		<section class="appendix" id="issue-summary"><!--OddPage--><h2 id="e-issue-summary"><span class="secno">E. </span>Issue Summary<span class="permalink"><a href="#issue-summary" aria-label="Permalink for E. Issue Summary" title="Permalink for E. Issue Summary"><span>§</span></a></span></h2><ul><li><a href="#issue-27">Issue 27</a><span style="text-transform: none">: Do we need to specify the 'result' of selections?</span></li><li><a href="#issue-12">Issue 12</a><span style="text-transform: none">: Use case for a component appearing in multiple locations?</span></li><li><a href="#issue-6">Issue 6</a><span style="text-transform: none">: Do we need fragment ids?</span></li><li><a href="#issue-28">Issue 28</a><span style="text-transform: none">: Do we need the intermediate selectors for SpanSelector?</span></li><li><a href="#issue-32">Issue 32</a><span style="text-transform: none">: Use Cases for Span Selector - are there any?</span></li><li><a href="#issue-34">Issue 34</a><span style="text-transform: none">: Use Cases for Span Selectors and Multi Resource Selectors (Do we need both)</span></li><li><a href="#issue-9">Issue 9</a><span style="text-transform: none">: Use cases for Position (not satisfied by Selector) - are there any?</span></li><li><a href="#issue-29">Issue 29</a><span style="text-transform: none">: Use cases for side bias - are there any?</span></li></ul></section>
		
		<section id="ack" class="appendix informative">
    <!--OddPage--><h2 id="f-acknowledgements"><span class="secno">F. </span>Acknowledgements<span class="permalink"><a href="#ack" aria-label="Permalink for F. Acknowledgements" title="Permalink for F. Acknowledgements"><span>§</span></a></span></h2><p><em>This section is non-normative.</em></p>

    <p>The following people contributed to the development of this specification:</p>

    <ul class="ack">
        <li>Greg Albers (J. Paul Getty Trust)</li>
        <li>Boris Anthony (The Rebus Foundation)</li>
        <li>Christopher Auclair (VitalSource | Ingram Content Group)</li>
        <li>Luc Audrain (Hachette Livre)</li>
        <li>Mike Baker (Houghton Mifflin Harcourt (HMH))</li>
        <li>Baldur Bjarnason (The Rebus Foundation)</li>
        <li>Nick Brown (VitalSource | Ingram Content Group)</li>
        <li>Jeff Buehler (Metrodigi, Inc.)</li>
        <li>Fred Chasen (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Experts)</li>
        <li>Timothy Cole (University of Illinois at Urbana-Champaign)</li>
        <li>Rachel Comerford (Macmillan Higher Education)</li>
        <li>Garth Conboy (Google, Inc.)</li>
        <li>Christopher Cosner (Stanford University)</li>
        <li>Dave Cramer (Hachette Livre)</li>
        <li>Romain Deltour (DAISY Consortium)</li>
        <li>Marisa DeMeglio (DAISY Consortium)</li>
        <li>Vagner Diniz (NIC.br - Brazilian Network Information Center)</li>
        <li>Brady Duga (Google, Inc.)</li>
        <li>Ben Dugas (Rakuten,Inc.)</li>
        <li>Roger Espinosa (University of Michigan Library)</li>
        <li>Reinaldo Ferraz (NIC.br - Brazilian Network Information Center)</li>
        <li>Heather Flanagan (RFC Editor)</li>
        <li>Jun Gamo (Voyager Japan, Inc.)</li>
        <li>Hadrien Gardeur (Feedbooks)</li>
        <li>Matt Garrish (DAISY Consortium)</li>
        <li>Harriett Green (University of Illinois at Urbana-Champaign)</li>
        <li>Markku Hakkinen (Educational Testing Service)</li>
        <li>Katie Haritos-Shea (Knowbility, Inc)</li>
        <li>Ivan Herman (<abbr title="World Wide Web Consortium">W3C</abbr> Staff)</li>
        <li>Leslie Hulse (HarperCollins Publishers)</li>
        <li>Rick Johnson (VitalSource | Ingram Content Group)</li>
        <li>Takeshi Kanai (Sony Corporation)</li>
        <li>Deborah Kaplan (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Experts)</li>
        <li>Bill Kasdorf (Book Industry Study Group)</li>
        <li>George Kerscher (DAISY Consortium)</li>
        <li>Yuri Khramov (Evident Point Software Corp.)</li>
        <li>Toshiaki Koike (Voyager Japan, Inc.)</li>
        <li>Peter Krautzberger (krautzource UG)</li>
        <li>Matt Kuznicki (Datalogics, Inc.)</li>
        <li>Charles LaPierre (Benetech)</li>
        <li>Laurent Le Meur (EDRLab)</li>
        <li>Vladimir Levantovsky (Monotype)</li>
        <li>Mia Lipner (Pearson plc)</li>
        <li>Edwina Lui (Kaplan Publishing)</li>
        <li>Phil Madans (Hachette Livre)</li>
        <li>Christopher Maden (University of Illinois at Urbana-Champaign)</li>
        <li>Jia Ma (Kaplan Publishing)</li>
        <li>Liisa McCloy-Kelley (Penguin Random House)</li>
        <li>Bill McCoy (<abbr title="World Wide Web Consortium">W3C</abbr> Staff)</li>
        <li>Jonathan McGlone (University of Michigan Library)</li>
        <li>Hugh McGuire (The Rebus Foundation)</li>
        <li>Nellie McKesson (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Experts)</li>
        <li>Maureen McMahon (Kaplan Publishing)</li>
        <li>Selma Morais (NIC.br - Brazilian Network Information Center)</li>
        <li>Jasmine Mulliken (Stanford University)</li>
        <li>Shinyu Murakami (Vivliostyle Inc.)</li>
        <li>Makoto Murata (Vivliostyle Inc.)</li>
        <li>Cristina Mussinelli (Associazione Italiana Editori)</li>
        <li>Christos Nikolakakos (Wiley)</li>
        <li>Evan Owens (Cenveo Publisher Services)</li>
        <li>Gregorio Pellegrino (Associazione Italiana Editori)</li>
        <li>Fernando Pinto da Silva (EDRLab)</li>
        <li>Chris Powell (University of Michigan Library)</li>
        <li>Jeff Printy (Macmillan Higher Education)</li>
        <li>Ryan Pugatch (Hachette Livre)</li>
        <li>Joshua Pyle (Wiley)</li>
        <li>Wendy Reid (Rakuten,Inc.)</li>
        <li>Florian Rivoal (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Experts)</li>
        <li>Leonard Rosenthol (Adobe Systems Inc.)</li>
        <li>Nicholas Ruffilo (VitalSource | Ingram Content Group)</li>
        <li>Robert Sanderson (J. Paul Getty Trust)</li>
        <li>Wolfgang Schindler (PONS GmbH)</li>
        <li>Jodi Schneider (University of Illinois at Urbana-Champaign)</li>
        <li>Ben Schroeter (Pearson plc)</li>
        <li>Tzviya Siegman (Wiley)</li>
        <li>Avneesh Singh (DAISY Consortium)</li>
        <li>Susanna Skinner (HarperCollins Publishers)</li>
        <li>Kathryn Stewart (Metrodigi, Inc.)</li>
        <li>David Stroup (Pearson plc)</li>
        <li>Lillian Sullam (Penguin Random House)</li>
        <li>Mateus Teixeira (W. W. Norton)</li>
        <li>Jonathan Thurston (Pearson plc)</li>
        <li>Daniel Weck (EDRLab)</li>
        <li>Daniel Weck (DAISY Consortium)</li>
        <li>John Weise (University of Michigan Library)</li>
        <li>Jason White (Educational Testing Service)</li>
        <li>David Wood (Ephox Corporation)</li>
        <li>Richard Wright (EDRLab)</li>
        <li>Jeff Xu (Rakuten,Inc.)</li>
        <li>Evan Yamanishi (W. W. Norton)</li>
        <li>Maurice York (University of Michigan Library)</li>
        <li>Benjamin Young (Wiley)</li>
    </ul>

    <p>The Working Group would also like to thank the members of the
    <a href="https://www.w3.org/dpub/IG/">Digital Publishing Interest Group</a> for all the hard work
    they did paving the road for this specification.</p>
</section>


	

<section id="references" class="appendix"><!--OddPage--><h2 id="g-references"><span class="secno">G. </span>References<span class="permalink"><a href="#references" aria-label="Permalink for G. References" title="Permalink for G. References"><span>§</span></a></span></h2><section id="normative-references"><h3 id="g-1-normative-references"><span class="secno">G.1 </span>Normative references<span class="permalink"><a href="#normative-references" aria-label="Permalink for G.1 Normative references" title="Permalink for G.1 Normative references"><span>§</span></a></span></h3><dl class="bibliography"><dt id="bib-annotation-model">[annotation-model]</dt><dd><a href="https://www.w3.org/TR/annotation-model/"><cite>Web Annotation Data Model</cite></a>. Robert Sanderson; Paolo Ciccarese; Benjamin Young. W3C. 23 February 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/annotation-model/">https://www.w3.org/TR/annotation-model/</a>
</dd><dt id="bib-annotation-vocab">[annotation-vocab]</dt><dd><a href="https://www.w3.org/TR/annotation-vocab/"><cite>Web Annotation Vocabulary</cite></a>. Robert Sanderson; Paolo Ciccarese; Benjamin Young. W3C. 23 February 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/annotation-vocab/">https://www.w3.org/TR/annotation-vocab/</a>
</dd><dt id="bib-media-frags">[media-frags]</dt><dd><a href="https://www.w3.org/TR/media-frags/"><cite>Media Fragments URI 1.0 (basic)</cite></a>. Raphaël Troncy; Erik Mannens; Silvia Pfeiffer; Davy Van Deursen. W3C. 25 September 2012. W3C Recommendation. URL: <a href="https://www.w3.org/TR/media-frags/">https://www.w3.org/TR/media-frags/</a>
</dd><dt id="bib-publishing-linking">[publishing-linking]</dt><dd><a href="https://www.w3.org/TR/publishing-linking/"><cite>Publishing and Linking on the Web</cite></a>. Ashok Malhotra; Larry Masinter; Jeni Tennison; Daniel Appelquist. W3C. 30 April 2013. W3C Note. URL: <a href="https://www.w3.org/TR/publishing-linking/">https://www.w3.org/TR/publishing-linking/</a>
</dd><dt id="bib-pwpub">[pwpub]</dt><dd><a href="https://www.w3.org/TR/pwpub/"><cite>Packaged Web Publications</cite></a>. David Wood.2018-01-04. URL: <a href="https://www.w3.org/TR/pwpub/">https://www.w3.org/TR/pwpub/</a>
</dd><dt id="bib-RFC2119">[RFC2119]</dt><dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
</dd><dt id="bib-rfc3986">[rfc3986]</dt><dd><a href="https://tools.ietf.org/html/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter. IETF. January 2005. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3986">https://tools.ietf.org/html/rfc3986</a>
</dd><dt id="bib-url">[url]</dt><dd><a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren. WHATWG. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
</dd><dt id="bib-wpub">[wpub]</dt><dd><a href="https://www.w3.org/TR/wpub/"><cite>Web Publications</cite></a>. Matt Garrish; Ivan Herman.2018-01-04. URL: <a href="https://www.w3.org/TR/wpub/">https://www.w3.org/TR/wpub/</a>
</dd></dl></section><section id="informative-references"><h3 id="g-2-informative-references"><span class="secno">G.2 </span>Informative references<span class="permalink"><a href="#informative-references" aria-label="Permalink for G.2 Informative references" title="Permalink for G.2 Informative references"><span>§</span></a></span></h3><dl class="bibliography"><dt id="bib-cfi">[cfi]</dt><dd><a href="http://www.idpf.org/epub/linking/cfi/epub-cfi.html"><cite>EPUB Canonical Fragment Identifiers 1.1</cite></a>. Peter Sorotokin; Garth Conboy; Brady Duga; John Rivlin; Don Beaver; Kevin Ballard; Alastair Fettes; Daniel Weck. IDPF. Recommended Specification. URL: <a href="http://www.idpf.org/epub/linking/cfi/epub-cfi.html">http://www.idpf.org/epub/linking/cfi/epub-cfi.html</a>
</dd><dt id="bib-charmod">[charmod]</dt><dd><a href="https://www.w3.org/TR/charmod/"><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite></a>. Martin Dürst; François Yergeau; Richard Ishida; Misha Wolf; Tex Texin et al. W3C. 15 February 2005. W3C Recommendation. URL: <a href="https://www.w3.org/TR/charmod/">https://www.w3.org/TR/charmod/</a>
</dd><dt id="bib-css3-selectors">[css3-selectors]</dt><dd><a href="https://www.w3.org/TR/css3-selectors/"><cite>Selectors Level 3</cite></a>. Tantek Çelik; Elika Etemad; Daniel Glazman; Ian Hickson; Peter Linss; John Williams et al. W3C. 29 September 2011. W3C Recommendation. URL: <a href="https://www.w3.org/TR/css3-selectors/">https://www.w3.org/TR/css3-selectors/</a>
</dd><dt id="bib-dom-level-3-xpath">[dom-level-3-xpath]</dt><dd><a href="https://www.w3.org/TR/DOM-Level-3-XPath/"><cite>Document Object Model (DOM) Level 3 XPath Specification</cite></a>. Ray Whitmer. W3C. 26 February 2004. W3C Note. URL: <a href="https://www.w3.org/TR/DOM-Level-3-XPath/">https://www.w3.org/TR/DOM-Level-3-XPath/</a>
</dd><dt id="bib-json">[json]</dt><dd><a href="https://tools.ietf.org/html/rfc4627"><cite>The application/json Media Type for JavaScript Object Notation (JSON)</cite></a>. D. Crockford. IETF. July 2006. Informational. URL: <a href="https://tools.ietf.org/html/rfc4627">https://tools.ietf.org/html/rfc4627</a>
</dd><dt id="bib-rfc3023">[rfc3023]</dt><dd><a href="https://tools.ietf.org/html/rfc3023"><cite>XML Media Types</cite></a>. M. Murata; S. St. Laurent; D. Kohn. IETF. January 2001. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc3023">https://tools.ietf.org/html/rfc3023</a>
</dd><dt id="bib-rfc3236">[rfc3236]</dt><dd><a href="https://tools.ietf.org/html/rfc3236"><cite>The 'application/xhtml+xml' Media Type</cite></a>. M. Baker; P. Stark. IETF. January 2002. Informational. URL: <a href="https://tools.ietf.org/html/rfc3236">https://tools.ietf.org/html/rfc3236</a>
</dd><dt id="bib-rfc3778">[rfc3778]</dt><dd><a href="https://tools.ietf.org/html/rfc3778"><cite>The application/pdf Media Type</cite></a>. E. Taft; J. Pravetz; S. Zilles; L. Masinter. IETF. May 2004. Informational. URL: <a href="https://tools.ietf.org/html/rfc3778">https://tools.ietf.org/html/rfc3778</a>
</dd><dt id="bib-rfc5147">[rfc5147]</dt><dd><a href="https://tools.ietf.org/html/rfc5147"><cite>URI Fragment Identifiers for the text/plain Media Type</cite></a>. E. Wilde; M. Duerst. IETF. April 2008. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc5147">https://tools.ietf.org/html/rfc5147</a>
</dd><dt id="bib-rfc7089">[rfc7089]</dt><dd><a href="https://tools.ietf.org/html/rfc7089"><cite>HTTP Framework for Time-Based Access to Resource States -- Memento</cite></a>. H. Van de Sompel; M. Nelson; R. Sanderson. IETF. December 2013. Informational. URL: <a href="https://tools.ietf.org/html/rfc7089">https://tools.ietf.org/html/rfc7089</a>
</dd><dt id="bib-rfc7111">[rfc7111]</dt><dd><a href="https://tools.ietf.org/html/rfc7111"><cite>URI Fragment Identifiers for the text/csv Media Type</cite></a>. M. Hausenblas; E. Wilde; J. Tennison. IETF. January 2014. Informational. URL: <a href="https://tools.ietf.org/html/rfc7111">https://tools.ietf.org/html/rfc7111</a>
</dd><dt id="bib-selectors-states">[selectors-states]</dt><dd><a href="https://www.w3.org/TR/selectors-states/"><cite>Selectors and States</cite></a>. Ivan Herman; Robert Sanderson; Paolo Ciccarese; Benjamin Young. W3C. 23 February 2017. W3C Note. URL: <a href="https://www.w3.org/TR/selectors-states/">https://www.w3.org/TR/selectors-states/</a>
</dd><dt id="bib-shadow-dom">[shadow-dom]</dt><dd><a href="https://www.w3.org/TR/shadow-dom/"><cite>Shadow DOM</cite></a>. Hayato Ito. W3C. 5 September 2017. W3C Working Draft. URL: <a href="https://www.w3.org/TR/shadow-dom/">https://www.w3.org/TR/shadow-dom/</a>
</dd><dt id="bib-svg11">[svg11]</dt><dd><a href="https://www.w3.org/TR/SVG11/"><cite>Scalable Vector Graphics (SVG) 1.1 (Second Edition)</cite></a>. Erik Dahlström; Patrick Dengler; Anthony Grasso; Chris Lilley; Cameron McCormack; Doug Schepers; Jonathan Watt; Jon Ferraiolo; Jun Fujisawa; Dean Jackson et al. W3C. 16 August 2011. W3C Recommendation. URL: <a href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
</dd><dt id="bib-webarch">[webarch]</dt><dd><a href="https://www.w3.org/TR/webarch/"><cite>Architecture of the World Wide Web, Volume One</cite></a>. Ian Jacobs; Norman Walsh. W3C. 15 December 2004. W3C Recommendation. URL: <a href="https://www.w3.org/TR/webarch/">https://www.w3.org/TR/webarch/</a>
</dd></dl></section></section><p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>
